<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Solutions with Explanation | COMP SCI 7007 Specialised Programming</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Solutions with Explanation" />
<meta property="og:locale" content="en" />
<meta name="description" content="Course @ University of Adelaide" />
<meta property="og:description" content="Course @ University of Adelaide" />
<meta property="og:site_name" content="COMP SCI 7007 Specialised Programming" />
<script type="application/ld+json">
{"@type":"WebSite","headline":"Solutions with Explanation","url":"/","name":"COMP SCI 7007 Specialised Programming","description":"Course @ University of Adelaide","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/assets/css/style.css?v=cdec6906b96b253a171394a7aca2790e3c59e0ac">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">COMP SCI 7007 Specialised Programming</h1>
      <h2 class="project-tagline">Course @ University of Adelaide</h2>
      
        <a href="https://github.com/UoA-SP-2020-Sem-1-Group-7/Site" class="btn">View on GitHub</a>
      
      
    </section>

    <section class="main-content">
      <script defer="" src="https://code.jquery.com/jquery-3.4.1.slim.min.js" crossorigin="anonymous"></script>

<script defer="" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"></script>

<script defer="" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" crossorigin="anonymous"></script>

<script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" crossorigin="anonymous"></script>

<script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);" crossorigin="anonymous"></script>

<script defer="" src="https://cdn.jsdelivr.net/npm/uikit@3.4.2/dist/js/uikit.min.js" crossorigin="anonymous"></script>

<script defer="" src="https://cdn.jsdelivr.net/npm/uikit@3.4.2/dist/js/uikit-icons.min.js" crossorigin="anonymous"></script>

<script defer="" src="https://cdn.jsdelivr.net/npm/mermaid@8.5.0/dist/mermaid.min.js" crossorigin="anonymous"></script>

<script defer="" src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js" onload="Array.prototype.forEach.call(document.getElementsByClassName(&quot;chartjs&quot;), function(element) { new Chart(element, JSON.parse(element.innerHTML)); })" crossorigin="anonymous"></script>

<p><a href="https://github.com/UoA-SP-2020-Sem-1-Group-7/Site"><img src="https://github.com/UoA-SP-2020-Sem-1-Group-7/Site/workflows/GitHub%20Pages/badge.svg" alt="GitHub Pages" /></a>
<a href="https://github.com/UoA-SP-2020-Sem-1-Group-7/Generator"><img src="https://github.com/UoA-SP-2020-Sem-1-Group-7/Generator/workflows/Generator/badge.svg" alt="Generator" /></a>
<a href="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/Generator"><img src="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/Generator/branch/master/graph/badge.svg" alt="codecov" /></a></p>

<hr />

<p><a href="https://github.com/UoA-SP-2020-Sem-1-Group-7/CPP"><img src="https://github.com/UoA-SP-2020-Sem-1-Group-7/CPP/workflows/CPP/badge.svg" alt="CPP" /></a>
<a href="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/CPP"><img src="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/CPP/branch/master/graph/badge.svg" alt="codecov" /></a>
<a href="https://github.com/UoA-SP-2020-Sem-1-Group-7/Kotlin"><img src="https://github.com/UoA-SP-2020-Sem-1-Group-7/Kotlin/workflows/Kotlin/badge.svg" alt="Kotlin" /></a>
<a href="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/Kotlin"><img src="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/Kotlin/branch/master/graph/badge.svg" alt="codecov" /></a>
<a href="https://github.com/UoA-SP-2020-Sem-1-Group-7/Python"><img src="https://github.com/UoA-SP-2020-Sem-1-Group-7/Python/workflows/Python/badge.svg" alt="Python" /></a>
<a href="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/Python"><img src="https://codecov.io/gh/UoA-SP-2020-Sem-1-Group-7/Python/branch/master/graph/badge.svg" alt="codecov" /></a></p>

<hr />

<h2 id="specification-detail">Language Version &amp; Toolkit</h2>

<ul id="specification-tab" class="uk-tab" data-uk-switcher="{connect:'specification'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="specification" class="uk-switcher uk-margin">
  <li>C++17, compiled with GCC 9 &amp; Boost Library 1.67, tested with Boost.Test</li>
  <li>Kotlin, compiled with Kotlin 1.3.72 (API version 1.1 for compatibility with web submission system), tested with JUnit 5</li>
  <li>Python 3.8, by official CPython interpreter</li>
</ul>

<hr />

<h2 id="AimToTen"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=5879">AimToTen</a></h2>

<p>This question is quite straightforward. Let \(S = \sum{\textit{marks}}\) and \(n\) denotes the size of \(\textit{marks}\). The goal is to find the minimum \(r\) which satisfies the condition \(\frac{10 r + S}{r + n} \ge 9.5\). Simple brute force with simulation is the easiest way to compute it, but the computation can be very time consuming if the average of the initial set of marks, i.e., \(\frac{S}{n}\) is very low, and it may lead to the problems of comparing floating point numbers. Interestingly, applying simple rearrangement of the previous equation shows that \(r \ge 19 n - 2 S\). As we need to find a minimum \(r\), letting \(r = 19 n - 2 S\) can yield the correct result. This expression can eliminate the unnecessary simulation step.</p>

<h3 id="AimToTen-code">Code</h3>

<ul id="AimToTen-tab" class="uk-tab" data-uk-switcher="{connect:'AimToTen-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="AimToTen-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">AimToTen</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">need</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">marks</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">S</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">n</span> <span class="o">=</span> <span class="n">marks</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">S</span> <span class="o">+=</span> <span class="n">marks</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="kt">int</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">19</span> <span class="o">*</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">S</span><span class="p">;</span> <span class="n">re</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">AimToTen</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">need</span><span class="p">(</span><span class="n">marks</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="nc">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="p">(</span><span class="m">19</span> <span class="p">*</span> <span class="n">marks</span><span class="p">.</span><span class="n">size</span> <span class="p">-</span> <span class="m">2</span> <span class="p">*</span> <span class="n">marks</span><span class="p">.</span><span class="nf">sum</span><span class="p">()))</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">AimToTen</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">need</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">marks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">re</span> <span class="k">if</span> <span class="p">(</span><span class="n">re</span> <span class="p">:</span><span class="o">=</span> <span class="mi">19</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">marks</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">(</span><span class="n">marks</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span></code></pre></figure>
</li>
</ul>

<h3 id="AimToTen-complexity">Complexity</h3>

<ul>
  <li>Time: \(\Theta(n)\)</li>
  <li>Space: \(O(1)\)</li>
</ul>

<hr />

<h2 id="FunnyFence"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6872">FunnyFence</a></h2>

<p>Another simple question. Just loop through the whole string, if it encounters a <code class="language-plaintext highlighter-rouge">|</code>, record the length if it is longer than the previously recorded length and reset the counter.</p>

<h3 id="FunnyFence-code">Code</h3>

<ul id="FunnyFence-tab" class="uk-tab" data-uk-switcher="{connect:'FunnyFence-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="FunnyFence-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">FunnyFence</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">getLength</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">ll</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cl</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">!=</span> <span class="n">p</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="o">++</span><span class="n">cl</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">cl</span> <span class="o">&gt;</span> <span class="n">ll</span><span class="p">)</span>
                    <span class="n">ll</span> <span class="o">=</span> <span class="n">cl</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
                <span class="n">cl</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ll</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">FunnyFence</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">getLength</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">ll</span> <span class="p">=</span> <span class="m">1</span>
        <span class="kd">var</span> <span class="py">cl</span> <span class="p">=</span> <span class="m">1</span>
        <span class="n">s</span><span class="p">.</span><span class="nf">reduce</span> <span class="p">{</span> <span class="n">p</span><span class="p">,</span> <span class="n">c</span> <span class="p">-&gt;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">!=</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
                <span class="p">++</span><span class="n">cl</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">cl</span> <span class="p">&gt;</span> <span class="n">ll</span><span class="p">)</span>
                    <span class="n">ll</span> <span class="p">=</span> <span class="n">cl</span>
            <span class="p">}</span> <span class="k">else</span>
                <span class="n">cl</span> <span class="p">=</span> <span class="m">1</span>
            <span class="n">c</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">ll</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">FunnyFence</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">getLength</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">ll</span> <span class="o">=</span> <span class="n">cl</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">p</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">s</span> <span class="p">:</span><span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">p</span><span class="p">:</span>
                <span class="n">cl</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">cl</span> <span class="o">&gt;</span> <span class="n">ll</span><span class="p">:</span>
                    <span class="n">ll</span> <span class="o">=</span> <span class="n">cl</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cl</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">return</span> <span class="n">ll</span></code></pre></figure>
</li>
</ul>

<h3 id="FunnyFence-complexity">Complexity</h3>

<ul>
  <li>Time: \(\Theta(n)\)</li>
  <li>Space: \(O(1)\)</li>
</ul>

<hr />

<h2 id="FriendlySequences"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6750">FriendlySequences</a></h2>

<p>This question is a bit more difficult than the previous two, though it can be broken down into several smaller tasks:</p>

<ol>
  <li>Deduplicate the digits in each of the number. Using <code class="language-plaintext highlighter-rouge">HasSet</code> is the standard way to do this. Using bit manipulation of a <code class="language-plaintext highlighter-rouge">int</code> or even <code class="language-plaintext highlighter-rouge">short</code> variable is a special trick to save spaces and boost performance. This is feasible as digits are always in the range of \([0, 9]\), which only requires \(10\) bits to store the information. <code class="language-plaintext highlighter-rouge">BitSet</code> is another choice, though constructing a new object is less efficient than using primitive integer.</li>
  <li>Break down the whole array into several <em>friendly</em> sequences, each sequence will have \(\frac{n (n - 1)}{2}\) subsequences. Summing these numbers will yield the final result.</li>
</ol>

<p>The two tasks above can be combined so we can complete this in one pass.</p>

<h3 id="FriendlySequences-code">Code</h3>

<ul id="FriendlySequences-tab" class="uk-tab" data-uk-switcher="{connect:'FriendlySequences-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="FriendlySequences-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">FriendlySequences</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">uint16_t</span> <span class="n">bitise</span><span class="p">(</span><span class="kt">int</span> <span class="n">elem</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">uint16_t</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">re</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">elem</span> <span class="o">%</span> <span class="mi">10</span><span class="p">);</span>
            <span class="n">elem</span> <span class="o">/=</span> <span class="mi">10</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">count</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">array</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">n</span> <span class="o">=</span> <span class="n">array</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">n</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">size_t</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">bitise</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">auto</span> <span class="n">c</span> <span class="o">=</span> <span class="n">bitise</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
                <span class="o">++</span><span class="n">l</span><span class="p">;</span>
            <span class="k">else</span>
                <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="n">l</span><span class="p">;</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">count</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">FriendlySequences</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">Int</span><span class="p">.</span><span class="n">bits</span><span class="p">:</span> <span class="nc">Int</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="py">c</span> <span class="p">=</span> <span class="k">this</span>
            <span class="kd">var</span> <span class="py">re</span> <span class="p">=</span> <span class="m">0</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">c</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">re</span> <span class="p">=</span> <span class="m">1</span> <span class="nf">shl</span> <span class="p">(</span><span class="n">c</span> <span class="p">%</span> <span class="m">10</span><span class="p">)</span> <span class="n">or</span> <span class="n">re</span>
                <span class="n">c</span> <span class="p">/=</span> <span class="m">10</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">re</span>
        <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">count</span><span class="p">(</span><span class="n">array</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="nf">isEmpty</span><span class="p">())</span>
            <span class="k">return</span> <span class="m">0</span>

        <span class="kd">var</span> <span class="py">l</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">count</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">p</span> <span class="p">=</span> <span class="n">array</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">bits</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span> <span class="n">until</span> <span class="n">array</span><span class="p">.</span><span class="n">size</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">c</span> <span class="p">=</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">bits</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="p">==</span> <span class="n">c</span><span class="p">)</span>
                <span class="p">++</span><span class="n">l</span>
            <span class="k">else</span>
                <span class="n">l</span> <span class="p">=</span> <span class="m">0</span>
            <span class="n">count</span> <span class="p">+=</span> <span class="n">l</span>
            <span class="n">p</span> <span class="p">=</span> <span class="n">c</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">count</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">def</span> <span class="nf">_bitise</span><span class="p">(</span><span class="n">elem</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">elem</span><span class="p">:</span>
        <span class="n">re</span> <span class="o">|=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">elem</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">elem</span> <span class="o">//=</span> <span class="mi">10</span>
    <span class="k">return</span> <span class="n">re</span>


<span class="k">class</span> <span class="nc">FriendlySequences</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">array</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>

        <span class="n">l</span> <span class="o">=</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">p</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">array</span> <span class="p">:</span><span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">_bitise</span><span class="p">,</span> <span class="n">array</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">array</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="n">c</span><span class="p">:</span>
                <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="n">l</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">return</span> <span class="n">count</span></code></pre></figure>
</li>
</ul>

<h3 id="FriendlySequences-complexity">Complexity</h3>

<ul>
  <li>Time: \(\Theta(n)\)</li>
  <li>Space: \(O(1)\), <code class="language-plaintext highlighter-rouge">HashSet</code> requires slightly more memory, but it is still bound in the constant complexity</li>
</ul>

<hr />

<h2 id="ChangingString"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=7585">ChangingString</a></h2>

<p>The main idea is to first try to count the number of pairs of characters where each contains two different characters, denoted as \(n\). If \(n &gt; K\), to find the minimum steps, remove the top \(K\) pairs by their distances, where distance of character is defined by the absolute difference of their ASCII or Unicode code point. After removing these \(K\) pairs, summing the rest will yield the result. If \(n &lt; K\), as we are forced to change \(K\) characters before the operation, it means we need to increment or decrement \(K - n\) characters by \(1\). Therefore, the number of steps required to change the string will be \(n - K\). \(n = K\) can be categorised into either case, but out of considerations of performance and optimisation, \(K - n\) will be more efficient than selecting and removing the top K pairs. Storing the differences will always require \(\Theta(n)\) space. Here, \(n &lt;= s\) where \(s\) is the length of <code class="language-plaintext highlighter-rouge">A</code> and <code class="language-plaintext highlighter-rouge">B</code>, or formally, \(n \in O(s)\).</p>

<p>For selecting top \(K\) pairs can be done in two different ways:</p>

<ul>
  <li>Use the array to store the differences and sort it, or</li>
  <li>Use priority queue (by max heap) to store the differences directly.</li>
</ul>

<p>As said, the amortised space complexity for each way is always \(\Theta(n)\). They also have same a amortised time complexity \(O(n \log{n})\). The only difference is removing top \(K\) from a sorted array and sum the rest is quite easy, which requires \(O(n - K)\) operations, but the heap method needs to do \(O(n \log{n})\) operations. Overall, both ways have same amortised time complexity \(O(n \log{n})\), but the first way is the preferred and implemented way.</p>

<p>There is another interesting implementation which may be slightly faster than previous two, which is to use a priority queue (by max heap) with fixed size, specifically, \(s - K\), and evict the top element when inserting if it is full. Also we need to record the number of non-zero differences, similarly, as \(n\). So the time complexity is \(O(s \log{(s - K)})\) and space complexity is \(O(s - K)\). Although these two complexities are asymptotically identical, it is hard to determine whether it is practically faster than the previous two since replacement of the top element in a priority queue generally requires extra operations.</p>

<h3 id="ChangingString-code">Code</h3>

<ul id="ChangingString-tab" class="uk-tab" data-uk-switcher="{connect:'ChangingString-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="ChangingString-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">ChangingString</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">distance</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">A</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">B</span><span class="p">,</span> <span class="kt">int</span> <span class="n">K</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">sn</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">diffs</span><span class="p">;</span>
        <span class="n">diffs</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">sn</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">sn</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="kt">int</span> <span class="n">diff</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span> <span class="n">diff</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">diffs</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">diff</span><span class="p">);</span>
        <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">diffs</span><span class="p">.</span><span class="n">rbegin</span><span class="p">(),</span> <span class="n">diffs</span><span class="p">.</span><span class="n">rend</span><span class="p">());</span>
        <span class="kt">size_t</span> <span class="n">n</span> <span class="o">=</span> <span class="n">diffs</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="n">K</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">K</span> <span class="o">-</span> <span class="n">n</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="n">K</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="n">diffs</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">ChangingString</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">distance</span><span class="p">(</span><span class="nc">A</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="nc">B</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="nc">K</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">n</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">val</span> <span class="py">diffs</span> <span class="p">=</span> <span class="nc">IntArray</span><span class="p">(</span><span class="nc">A</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">diff</span> <span class="p">=</span> <span class="nc">Math</span><span class="p">.</span><span class="nf">abs</span><span class="p">(</span><span class="nc">A</span><span class="p">[</span><span class="n">it</span><span class="p">]</span> <span class="p">-</span> <span class="nc">B</span><span class="p">[</span><span class="n">it</span><span class="p">])</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">diff</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
                <span class="p">++</span><span class="n">n</span>
            <span class="n">diff</span>
        <span class="p">}</span>
        <span class="n">diffs</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>
        <span class="k">return</span> <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="p">&gt;</span> <span class="nc">K</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="py">s</span> <span class="p">=</span> <span class="m">0</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="nc">A</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="n">n</span> <span class="n">until</span> <span class="nc">A</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="nc">K</span><span class="p">)</span>
                <span class="n">s</span> <span class="p">+=</span> <span class="n">diffs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">s</span>
        <span class="p">}</span> <span class="k">else</span>
            <span class="nc">K</span> <span class="p">-</span> <span class="n">n</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">ChangingString</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">B</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">K</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">K</span> <span class="o">-</span> <span class="n">n</span> <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="p">:</span><span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">diffs</span> <span class="p">:</span><span class="o">=</span> <span class="nb">sorted</span><span class="p">((</span><span class="n">diff</span> <span class="k">for</span> <span class="n">diff</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="nb">abs</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">))</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
        <span class="p">)</span> <span class="k">if</span> <span class="n">diff</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)))</span> <span class="o">&lt;=</span> <span class="n">K</span> <span class="k">else</span> <span class="nb">sum</span><span class="p">(</span><span class="n">diffs</span><span class="p">[</span><span class="n">K</span><span class="p">:])</span></code></pre></figure>
</li>
</ul>

<h3 id="ChangingString-complexity">Complexity</h3>

<ul>
  <li>Time: \(O(n \log{n})\) or \(O(s \log{s})\) since \(n \in O(s)\)</li>
  <li>Space: \(O(n)\) or \(O(s)\)</li>
</ul>

<hr />

<h2 id="Elections"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=4496">Elections</a></h2>

<p>This is a simple question which can be done in one pass. Probably the most tricky thing is the comparison of floating point values, but this is not the major focus of this question, and the result indeed reflects that using primitive instruction for comparisons is accepted. Let \(n\) be the length of the input and \(k\) be the average length of each strings, then the time complexity will be \(\Theta(k n)\).</p>

<h3 id="Elections-code">Code</h3>

<ul id="Elections-tab" class="uk-tab" data-uk-switcher="{connect:'Elections-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="Elections-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">Elections</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">visit</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">likelihoods</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">mr</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">likelihoods</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">size_t</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">auto</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">likelihoods</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">auto</span> <span class="n">sn</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">sn</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'1'</span><span class="p">)</span>
                    <span class="o">++</span><span class="n">c</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="kt">double</span> <span class="n">r</span> <span class="o">=</span> <span class="kt">double</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">/</span> <span class="n">sn</span><span class="p">;</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="n">mr</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="n">mr</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">index</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">Elections</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">visit</span><span class="p">(</span><span class="n">likelihoods</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">index</span> <span class="p">=</span> <span class="m">0</span>
        <span class="n">likelihoods</span><span class="p">.</span><span class="nf">foldIndexed</span><span class="p">(</span><span class="m">2.0</span><span class="p">)</span> <span class="p">{</span> <span class="n">i</span><span class="p">,</span> <span class="n">mr</span><span class="p">,</span> <span class="n">c</span> <span class="p">-&gt;</span>
            <span class="kd">val</span> <span class="py">r</span> <span class="p">=</span> <span class="n">c</span><span class="p">.</span><span class="nf">count</span> <span class="p">{</span> <span class="n">it</span> <span class="p">==</span> <span class="sc">'1'</span> <span class="p">}.</span><span class="nf">toDouble</span><span class="p">()</span> <span class="p">/</span> <span class="n">c</span><span class="p">.</span><span class="n">length</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="p">&lt;</span> <span class="n">mr</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">index</span> <span class="p">=</span> <span class="n">i</span>
                <span class="n">r</span>
            <span class="p">}</span> <span class="k">else</span>
                <span class="n">mr</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">index</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">def</span> <span class="nf">_ratio</span><span class="p">(</span><span class="n">votes</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="s">'1'</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">votes</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">votes</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Elections</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">likelihoods</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_ratio</span><span class="p">,</span> <span class="n">likelihoods</span><span class="p">)))[</span><span class="mi">1</span><span class="p">]</span></code></pre></figure>
</li>
</ul>

<h3 id="Elections-complexity">Complexity</h3>

<ul>
  <li>Time: \(\Theta(k n)\)</li>
  <li>Space: \(O(1)\)</li>
</ul>

<hr />

<h2 id="Inchworm"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=1799">Inchworm</a></h2>

<p>Finding the solution by simulation is a simple but inefficient solution. Let \(B\) denotes the branch length, then it requires \(O(B)\) to complete the simulation. A smarter way to solve this problem is to first find the least common multiplier of <code class="language-plaintext highlighter-rouge">rest</code>, denoted as \(R\), and <code class="language-plaintext highlighter-rouge">leaf</code>, denoted as \(L\), which is the interval where the worm is able to eat the leaf and have a rest. Then it is easy to determine how many intervals the branch has. Finding least common multiplier is easy by computing the greatest common divider with Euclidean Algorithm, which has a time complexity of \(O(\log{R} + \log{L})\).</p>

<h3 id="Inchworm-code">Code</h3>

<ul id="Inchworm-tab" class="uk-tab" data-uk-switcher="{connect:'Inchworm-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="Inchworm-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">Inchworm</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">lunchtime</span><span class="p">(</span><span class="kt">int</span> <span class="n">branch</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rest</span><span class="p">,</span> <span class="kt">int</span> <span class="n">leaf</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">rest</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">leaf</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span><span class="p">;</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">branch</span> <span class="o">/</span> <span class="p">(</span><span class="n">rest</span> <span class="o">/</span> <span class="n">a</span> <span class="o">*</span> <span class="n">leaf</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">Inchworm</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">tailrec</span> <span class="k">infix</span> <span class="k">fun</span> <span class="nc">Int</span><span class="p">.</span><span class="nf">gcd</span><span class="p">(</span><span class="n">b</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="k">if</span> <span class="p">(</span><span class="n">b</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="k">this</span> <span class="k">else</span> <span class="n">b</span> <span class="nf">gcd</span> <span class="p">(</span><span class="k">this</span> <span class="p">%</span> <span class="n">b</span><span class="p">)</span>

    <span class="k">fun</span> <span class="nf">lunchtime</span><span class="p">(</span><span class="n">branch</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">rest</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">leaf</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="n">branch</span> <span class="p">/</span> <span class="p">(</span><span class="n">rest</span> <span class="p">/</span> <span class="p">(</span><span class="n">rest</span> <span class="n">gcd</span> <span class="n">leaf</span><span class="p">)</span> <span class="p">*</span> <span class="n">leaf</span><span class="p">)</span> <span class="p">+</span> <span class="m">1</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Inchworm</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">lunchtime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">rest</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">leaf</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">rest</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">leaf</span>
        <span class="k">while</span> <span class="n">b</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">b</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">tmp</span>
        <span class="k">return</span> <span class="n">branch</span> <span class="o">//</span> <span class="p">(</span><span class="n">rest</span> <span class="o">//</span> <span class="n">a</span> <span class="o">*</span> <span class="n">leaf</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span></code></pre></figure>
</li>
</ul>

<h3 id="Inchworm-complexity">Complexity</h3>

<ul>
  <li>Time: \(O(\log{R} + \log{L})\)</li>
  <li>Space: \(O(1)\)</li>
</ul>

<hr />

<h2 id="InsertionSortCount"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6224">InsertionSortCount</a></h2>

<h3 id="InsertionSortCount-code">Code</h3>

<ul id="InsertionSortCount-tab" class="uk-tab" data-uk-switcher="{connect:'InsertionSortCount-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="InsertionSortCount-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">InsertionSortCount</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">countMoves</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">A</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kt">size_t</span> <span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">elem</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">n</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">elem</span> <span class="o">&gt;</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
                    <span class="o">++</span><span class="n">re</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">InsertionSortCount</span> <span class="p">{</span>
    <span class="c1">// the nth item is expected to move x times where x is the number of items smaller than current item from the</span>
    <span class="c1">// current position</span>
    <span class="k">fun</span> <span class="nf">countMoves</span><span class="p">(</span><span class="nc">A</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="nc">A</span><span class="p">.</span><span class="nf">foldIndexed</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">index</span><span class="p">,</span> <span class="n">acc</span><span class="p">,</span> <span class="n">item</span> <span class="p">-&gt;</span>
        <span class="kd">var</span> <span class="py">re</span> <span class="p">=</span> <span class="n">acc</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="p">(</span><span class="n">index</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span> <span class="n">until</span> <span class="nc">A</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">item</span> <span class="p">&gt;</span> <span class="nc">A</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="p">++</span><span class="n">re</span>
        <span class="n">re</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">InsertionSortCount</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">countMoves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">A</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span></code></pre></figure>
</li>
</ul>

<h3 id="InsertionSortCount-complexity">Complexity</h3>

<hr />

<h2 id="VolumeGuess"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=2330">VolumeGuess</a></h2>

<h3 id="VolumeGuess-code">Code</h3>

<ul id="VolumeGuess-tab" class="uk-tab" data-uk-switcher="{connect:'VolumeGuess-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="VolumeGuess-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">VolumeGuess</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">regex</span> <span class="k">const</span> <span class="n">matcher</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">regex</span><span class="p">(</span><span class="s">R"re((\d+),(\d+),(\d+))re"</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">regex</span><span class="o">::</span><span class="n">ECMAScript</span> <span class="o">|</span> <span class="n">std</span><span class="o">::</span><span class="n">regex</span><span class="o">::</span><span class="n">optimize</span><span class="p">);</span>
<span class="nl">public:</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">correctVolume</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">queries</span><span class="p">,</span> <span class="kt">int</span> <span class="n">numberOfBoxes</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ithBox</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="p">,</span> <span class="kt">size_t</span><span class="p">,</span> <span class="kt">size_t</span><span class="o">&gt;&gt;</span> <span class="n">hints</span><span class="p">;</span>
        <span class="kt">size_t</span> <span class="n">n</span> <span class="o">=</span> <span class="n">queries</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">hints</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">auto</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">queries</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="n">std</span><span class="o">::</span><span class="n">smatch</span> <span class="n">match</span><span class="p">;</span>
            <span class="n">std</span><span class="o">::</span><span class="n">regex_match</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">matcher</span><span class="p">);</span>
            <span class="n">hints</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">stoul</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="n">std</span><span class="o">::</span><span class="n">stoul</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">std</span><span class="o">::</span><span class="n">stoul</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
        <span class="p">}</span>
        <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">hints</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">hints</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>

        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">volumes</span><span class="p">(</span><span class="n">numberOfBoxes</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">curr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">numberOfBoxes</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">auto</span> <span class="p">[</span><span class="n">v</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">]</span> <span class="o">=</span> <span class="n">hints</span><span class="p">[</span><span class="n">curr</span><span class="p">];</span>
            <span class="k">auto</span> <span class="p">[</span><span class="n">_</span><span class="p">,</span> <span class="n">nb1</span><span class="p">,</span> <span class="n">nb2</span><span class="p">]</span> <span class="o">=</span> <span class="n">hints</span><span class="p">[</span><span class="n">curr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
            <span class="n">volumes</span><span class="p">[((</span><span class="n">b1</span> <span class="o">==</span> <span class="n">nb1</span> <span class="o">||</span> <span class="n">b1</span> <span class="o">==</span> <span class="n">nb2</span><span class="p">)</span> <span class="o">?</span> <span class="n">b1</span> <span class="o">:</span> <span class="n">b2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
            <span class="n">curr</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">volumes</span><span class="p">[</span><span class="n">ithBox</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">VolumeGuess</span> <span class="p">{</span>
    <span class="kd">class</span> <span class="nc">Hint</span><span class="p">(</span><span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">box1</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">box2</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">volume</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">:</span> <span class="nc">Comparable</span><span class="p">&lt;</span><span class="nc">Hint</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="k">override</span> <span class="k">operator</span> <span class="k">fun</span> <span class="nf">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="nc">Hint</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="n">volume</span> <span class="p">-</span> <span class="n">other</span><span class="p">.</span><span class="n">volume</span>

        <span class="k">operator</span> <span class="k">fun</span> <span class="nf">div</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="nc">Hint</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="k">if</span> <span class="p">(</span><span class="n">box1</span> <span class="p">==</span> <span class="n">other</span><span class="p">.</span><span class="n">box1</span> <span class="p">||</span> <span class="n">box1</span> <span class="p">==</span> <span class="n">other</span><span class="p">.</span><span class="n">box2</span><span class="p">)</span> <span class="n">box1</span> <span class="k">else</span> <span class="n">box2</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">correctVolume</span><span class="p">(</span><span class="n">queries</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;,</span> <span class="n">numberOfBoxes</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">ithBox</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">hints</span> <span class="p">=</span> <span class="nc">Array</span><span class="p">(</span><span class="n">queries</span><span class="p">.</span><span class="n">size</span><span class="p">)</span> <span class="p">{</span> <span class="n">i</span> <span class="p">-&gt;</span>
            <span class="kd">val</span> <span class="py">query</span> <span class="p">=</span> <span class="n">queries</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">split</span><span class="p">(</span><span class="sc">','</span><span class="p">)</span>
            <span class="nc">Hint</span><span class="p">(</span><span class="n">query</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">toInt</span><span class="p">(),</span> <span class="n">query</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">toInt</span><span class="p">(),</span> <span class="n">query</span><span class="p">[</span><span class="m">2</span><span class="p">].</span><span class="nf">toInt</span><span class="p">())</span>
        <span class="p">}</span>
        <span class="n">hints</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>
        <span class="kd">val</span> <span class="py">volumes</span> <span class="p">=</span> <span class="nc">IntArray</span><span class="p">(</span><span class="n">numberOfBoxes</span><span class="p">)</span>
        <span class="kd">var</span> <span class="py">curr</span> <span class="p">=</span> <span class="m">0</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="p">(</span><span class="n">numberOfBoxes</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="n">downTo</span> <span class="m">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">hint</span> <span class="p">=</span> <span class="n">hints</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span>
            <span class="n">volumes</span><span class="p">[</span><span class="n">hint</span> <span class="p">/</span> <span class="n">hints</span><span class="p">[</span><span class="n">curr</span> <span class="p">+</span> <span class="m">1</span><span class="p">]</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">hint</span><span class="p">.</span><span class="n">volume</span>
            <span class="n">curr</span> <span class="p">+=</span> <span class="n">i</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">volumes</span><span class="p">[</span><span class="n">ithBox</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">VolumeGuess</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">correctVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">queries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                      <span class="n">numberOfBoxes</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                      <span class="n">ithBox</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">hints</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">queries</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">numberOfBoxes</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numberOfBoxes</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">v</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b2</span> <span class="o">=</span> <span class="n">hints</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">nb1</span><span class="p">,</span> <span class="n">nb2</span> <span class="o">=</span> <span class="n">hints</span><span class="p">[</span><span class="n">curr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">volumes</span><span class="p">[(</span><span class="n">b1</span> <span class="k">if</span> <span class="n">b1</span> <span class="o">==</span> <span class="n">nb1</span> <span class="ow">or</span> <span class="n">b1</span> <span class="o">==</span> <span class="n">nb2</span> <span class="k">else</span> <span class="n">b2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
            <span class="n">curr</span> <span class="o">+=</span> <span class="n">i</span>
        <span class="k">return</span> <span class="n">volumes</span><span class="p">[</span><span class="n">ithBox</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span></code></pre></figure>
</li>
</ul>

<h3 id="VolumeGuess-complexity">Complexity</h3>

<hr />

<h2 id="ElevatorLimit"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=2330">ElevatorLimit</a></h2>

<h3 id="ElevatorLimit-code">Code</h3>

<ul id="ElevatorLimit-tab" class="uk-tab" data-uk-switcher="{connect:'ElevatorLimit-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="ElevatorLimit-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">ElevatorLimit</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">getRange</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">enter</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">exit</span><span class="p">,</span> <span class="kt">int</span> <span class="n">physicalLimit</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">enter</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">ex</span> <span class="o">=</span> <span class="n">exit</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ex</span> <span class="o">&gt;</span> <span class="n">physicalLimit</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">{};</span>
            <span class="n">sum</span> <span class="o">-=</span> <span class="n">ex</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&lt;</span> <span class="n">min</span><span class="p">)</span>
                <span class="n">min</span> <span class="o">=</span> <span class="n">sum</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">en</span> <span class="o">=</span> <span class="n">enter</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">en</span> <span class="o">&gt;</span> <span class="n">physicalLimit</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">{};</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">en</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="o">&gt;</span> <span class="n">max</span><span class="p">)</span>
                <span class="n">max</span> <span class="o">=</span> <span class="n">sum</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">max</span> <span class="o">-</span> <span class="n">min</span> <span class="o">&gt;</span> <span class="n">physicalLimit</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">{};</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="p">{</span> <span class="o">-</span><span class="n">min</span><span class="p">,</span> <span class="n">physicalLimit</span> <span class="o">-</span> <span class="n">max</span> <span class="p">};</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">ElevatorLimit</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">getRange</span><span class="p">(</span><span class="n">enter</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">exit</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">physicalLimit</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">IntArray</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">sum</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">min</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">max</span> <span class="p">=</span> <span class="m">0</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="n">enter</span><span class="p">.</span><span class="n">indices</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">ex</span> <span class="p">=</span> <span class="n">exit</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ex</span> <span class="p">&gt;</span> <span class="n">physicalLimit</span><span class="p">)</span>
                <span class="k">return</span> <span class="nf">intArrayOf</span><span class="p">()</span>
            <span class="n">sum</span> <span class="p">-=</span> <span class="n">ex</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="p">&lt;</span> <span class="n">min</span><span class="p">)</span>
                <span class="n">min</span> <span class="p">=</span> <span class="n">sum</span>
            <span class="kd">val</span> <span class="py">en</span> <span class="p">=</span> <span class="n">enter</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">en</span> <span class="p">&gt;</span> <span class="n">physicalLimit</span><span class="p">)</span>
                <span class="k">return</span> <span class="nf">intArrayOf</span><span class="p">()</span>
            <span class="n">sum</span> <span class="p">+=</span> <span class="n">en</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">sum</span> <span class="p">&gt;</span> <span class="n">max</span><span class="p">)</span>
                <span class="n">max</span> <span class="p">=</span> <span class="n">sum</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">max</span> <span class="p">-</span> <span class="n">min</span> <span class="p">&gt;</span> <span class="n">physicalLimit</span><span class="p">)</span>
                <span class="k">return</span> <span class="nf">intArrayOf</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nf">intArrayOf</span><span class="p">(-</span><span class="n">min</span><span class="p">,</span> <span class="n">physicalLimit</span> <span class="p">-</span> <span class="n">max</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">ElevatorLimit</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">getRange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">enters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                 <span class="n">exits</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                 <span class="n">physicalLimit</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="n">vsum</span> <span class="o">=</span> <span class="n">vmin</span> <span class="o">=</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">ex</span><span class="p">,</span> <span class="n">en</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">exits</span><span class="p">,</span> <span class="n">enters</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">ex</span> <span class="o">&gt;</span> <span class="n">physicalLimit</span> <span class="ow">or</span> <span class="n">en</span> <span class="o">&gt;</span> <span class="n">physicalLimit</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">vsum</span> <span class="p">:</span><span class="o">=</span> <span class="n">vsum</span> <span class="o">-</span> <span class="n">ex</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">vmin</span><span class="p">:</span>
                <span class="n">vmin</span> <span class="o">=</span> <span class="n">vsum</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">vsum</span> <span class="p">:</span><span class="o">=</span> <span class="n">vsum</span> <span class="o">+</span> <span class="n">en</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">vmax</span><span class="p">:</span>
                <span class="n">vmax</span> <span class="o">=</span> <span class="n">vsum</span>
            <span class="k">if</span> <span class="n">vmax</span> <span class="o">-</span> <span class="n">vmin</span> <span class="o">&gt;</span> <span class="n">physicalLimit</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[</span><span class="o">-</span><span class="n">vmin</span><span class="p">,</span> <span class="n">physicalLimit</span> <span class="o">-</span> <span class="n">vmax</span><span class="p">]</span></code></pre></figure>
</li>
</ul>

<h3 id="ElevatorLimit-complexity">Complexity</h3>

<hr />

<h2 id="ProblemsToSolve"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=7504">ProblemsToSolve</a></h2>

<h3 id="ProblemsToSolve-code">Code</h3>

<ul id="ProblemsToSolve-tab" class="uk-tab" data-uk-switcher="{connect:'ProblemsToSolve-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="ProblemsToSolve-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">ProblemsToSolve</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">minNumber</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">pleasantness</span><span class="p">,</span> <span class="kt">int</span> <span class="n">variety</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">re</span> <span class="o">=</span> <span class="n">pleasantness</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">n</span> <span class="o">=</span> <span class="n">re</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">pleasantness</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">pleasantness</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="n">variety</span><span class="p">)</span>
                <span class="n">re</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">pleasantness</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">pleasantness</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="n">variety</span><span class="p">)</span>
                    <span class="n">re</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="p">(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">ProblemsToSolve</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">minNumber</span><span class="p">(</span><span class="n">pleasantness</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">variety</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">re</span> <span class="p">=</span> <span class="n">pleasantness</span><span class="p">.</span><span class="n">size</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span> <span class="n">until</span> <span class="n">re</span><span class="p">)</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="m">0</span> <span class="n">until</span> <span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nc">Math</span><span class="p">.</span><span class="nf">abs</span><span class="p">(</span><span class="n">pleasantness</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">-</span> <span class="n">pleasantness</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">&gt;=</span> <span class="n">variety</span><span class="p">)</span>
                    <span class="n">re</span> <span class="p">=</span> <span class="nc">Math</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="n">re</span><span class="p">,</span> <span class="p">(</span><span class="n">j</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span> <span class="p">/</span> <span class="m">2</span> <span class="p">+</span> <span class="p">(</span><span class="n">i</span> <span class="p">-</span> <span class="n">j</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span> <span class="p">/</span> <span class="m">2</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">re</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">ProblemsToSolve</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">minNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pleasantness</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">variety</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pleasantness</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">((</span>
            <span class="p">(</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">pleasantness</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">pleasantness</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="n">variety</span>
        <span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">n</span><span class="p">)</span></code></pre></figure>
</li>
</ul>

<h3 id="ProblemsToSolve-complexity">Complexity</h3>

<hr />

<h2 id="SquareOfDigits"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=10395">SquareOfDigits</a></h2>

<p>Bruteforce is the only way to solve this problem. It needs three nested for loops where the inner two loops has \(O(n m)\) complexity, and the outermost loop runs for \(O(\min(n, m))\).</p>

<h3 id="SquareOfDigits-code">Code</h3>

<ul id="SquareOfDigits-tab" class="uk-tab" data-uk-switcher="{connect:'SquareOfDigits-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="SquareOfDigits-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">SquareOfDigits</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">getMax</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">data</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">m</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">size_t</span> <span class="n">n</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">l</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span> <span class="n">l</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">l</span><span class="p">)</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">-</span> <span class="n">l</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="n">l</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">auto</span> <span class="n">ni</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">l</span><span class="p">,</span> <span class="n">nj</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="n">l</span><span class="p">;</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">nj</span><span class="p">])</span>
                    <span class="p">{</span>
                        <span class="o">++</span><span class="n">l</span><span class="p">;</span>
                        <span class="k">return</span> <span class="n">l</span> <span class="o">*</span> <span class="n">l</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">SquareOfDigits</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">Int</span><span class="p">.</span><span class="n">square</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="k">this</span> <span class="p">*</span> <span class="k">this</span>

    <span class="k">fun</span> <span class="nf">getMax</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">m</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">size</span>
        <span class="kd">val</span> <span class="py">n</span> <span class="p">=</span> <span class="n">data</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">length</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">l</span> <span class="k">in</span> <span class="p">(</span><span class="nc">Math</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="n">downTo</span> <span class="m">1</span><span class="p">)</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">0</span> <span class="n">until</span> <span class="n">m</span> <span class="p">-</span> <span class="n">l</span><span class="p">)</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="m">0</span> <span class="n">until</span> <span class="n">n</span> <span class="p">-</span> <span class="n">l</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">val</span> <span class="py">ni</span> <span class="p">=</span> <span class="n">i</span> <span class="p">+</span> <span class="n">l</span>
                    <span class="kd">val</span> <span class="py">nj</span> <span class="p">=</span> <span class="n">j</span> <span class="p">+</span> <span class="n">l</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="p">==</span> <span class="n">data</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span> <span class="p">&amp;&amp;</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span> <span class="p">==</span> <span class="n">data</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="p">&amp;&amp;</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="p">==</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">nj</span><span class="p">])</span>
                        <span class="k">return</span> <span class="p">(</span><span class="n">l</span> <span class="p">+</span> <span class="m">1</span><span class="p">).</span><span class="n">square</span>
                <span class="p">}</span>
        <span class="k">return</span> <span class="m">1</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">SquareOfDigits</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">getMax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">m</span> <span class="p">:</span><span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">n</span> <span class="p">:</span><span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="n">l</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">l</span><span class="p">):</span>
                    <span class="n">ni</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">l</span>
                    <span class="n">nj</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="n">l</span>
                    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span> <span class="ow">and</span> \
                            <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">nj</span><span class="p">]</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">ni</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="ow">and</span> \
                            <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">nj</span><span class="p">]:</span>
                        <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">return</span> <span class="n">l</span> <span class="o">*</span> <span class="n">l</span>
        <span class="k">return</span> <span class="mi">1</span></code></pre></figure>
</li>
</ul>

<h3 id="SquareOfDigits-complexity">Complexity</h3>

<ul>
  <li>Time: \(O(n m \cdot \min(n, m))\)</li>
  <li>Space: \(O(1)\)</li>
</ul>

<hr />

<h2 id="FewestFactors"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=5886">FewestFactors</a></h2>

<p>Another typical bruteforce problem. Counting the number of factors of a number \(n\) requires \(\Theta(\sqrt{n})\). Generating the number \(n\) from the given permutation of the digits needs \(\Theta(\log_{10}{n})\) or \(\Theta(s)\) where \(s\) is the size of <code class="language-plaintext highlighter-rouge">digits</code>, and obviously \(s = \Theta(\log_{10}{n})\). Generating permutations of the digits requires \(\Theta(s \cdot s!)\) by <a href="https://en.wikipedia.org/wiki/Steinhaus%E2%80%93Johnson%E2%80%93Trotter_algorithm">Steinhaus–Johnson–Trotter algorithm</a>. Recursion can solve this in \(\Theta(s!)\) with extra space of \(\Theta(s)\). Another interesting algorithm, <a href="https://en.wikipedia.org/wiki/Heap%27s_algorithm">Heap’s algorithm</a>, can achieve similar time complexity (\(\Theta(s!)\)) at the expense of \(\Theta(s)\) space as well but in an iterative form.</p>

<h3 id="FewestFactors-code">Code</h3>

<ul id="FewestFactors-tab" class="uk-tab" data-uk-switcher="{connect:'FewestFactors-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="FewestFactors-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">FewestFactors</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">size_t</span> <span class="n">as_number</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">digits</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">digits</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">re</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">re</span> <span class="o">+</span> <span class="n">digits</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kr">inline</span> <span class="kt">size_t</span> <span class="n">count_factors</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">number</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">nf</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">f</span> <span class="o">&lt;</span> <span class="n">number</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">number</span> <span class="o">%</span> <span class="n">f</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">nf</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="o">++</span><span class="n">f</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="n">f</span> <span class="o">==</span> <span class="n">number</span><span class="p">)</span>
            <span class="o">++</span><span class="n">nf</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">nf</span><span class="p">;</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">number</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">digits</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">mn</span> <span class="o">=</span> <span class="n">as_number</span><span class="p">(</span><span class="n">digits</span><span class="p">),</span> <span class="n">mnf</span> <span class="o">=</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">mn</span><span class="p">),</span> <span class="n">s</span> <span class="o">=</span> <span class="n">digits</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">weights</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
        <span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span> <span class="n">weight</span> <span class="o">=</span> <span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">weight</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">digits</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">digits</span><span class="p">[(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">weight</span><span class="p">]);</span>

                <span class="k">if</span> <span class="p">(</span><span class="k">auto</span> <span class="n">n</span> <span class="o">=</span> <span class="n">as_number</span><span class="p">(</span><span class="n">digits</span><span class="p">),</span> <span class="n">nf</span> <span class="o">=</span> <span class="n">count_factors</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="n">nf</span> <span class="o">&lt;</span> <span class="n">mnf</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">mnf</span> <span class="o">=</span> <span class="n">nf</span><span class="p">;</span>
                    <span class="n">mn</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nf</span> <span class="o">==</span> <span class="n">mnf</span> <span class="o">&amp;&amp;</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">mn</span><span class="p">)</span>
                    <span class="n">mn</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>

                <span class="o">++</span><span class="n">weight</span><span class="p">;</span>
                <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="o">++</span><span class="n">i</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">mn</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">FewestFactors</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">fun</span> <span class="nc">IntArray</span><span class="p">.</span><span class="nf">swap</span><span class="p">(</span><span class="n">l</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">tmp</span> <span class="p">=</span> <span class="k">this</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
        <span class="k">this</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="p">=</span> <span class="k">this</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
        <span class="k">this</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="p">=</span> <span class="n">tmp</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="kd">val</span> <span class="py">IntArray</span><span class="p">.</span><span class="n">number</span><span class="p">:</span> <span class="nc">Int</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="nf">fold</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">acc</span><span class="p">,</span> <span class="n">it</span> <span class="p">-&gt;</span> <span class="m">10</span> <span class="p">*</span> <span class="n">acc</span> <span class="p">+</span> <span class="n">it</span> <span class="p">}</span>

    <span class="k">private</span> <span class="kd">val</span> <span class="py">Int</span><span class="p">.</span><span class="n">factors</span><span class="p">:</span> <span class="nc">Int</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="py">nf</span> <span class="p">=</span> <span class="m">0</span>
            <span class="kd">var</span> <span class="py">f</span> <span class="p">=</span> <span class="m">1</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">f</span> <span class="p">*</span> <span class="n">f</span> <span class="p">&lt;</span> <span class="k">this</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="p">%</span> <span class="n">f</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                    <span class="n">nf</span> <span class="p">+=</span> <span class="m">2</span>
                <span class="p">++</span><span class="n">f</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="p">*</span> <span class="n">f</span> <span class="p">==</span> <span class="k">this</span><span class="p">)</span>
                <span class="p">++</span><span class="n">nf</span>
            <span class="k">return</span> <span class="n">nf</span>
        <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">number</span><span class="p">(</span><span class="n">digits</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">mn</span> <span class="p">=</span> <span class="n">digits</span><span class="p">.</span><span class="n">number</span>
        <span class="kd">var</span> <span class="py">mnf</span> <span class="p">=</span> <span class="n">mn</span><span class="p">.</span><span class="n">factors</span>
        <span class="kd">val</span> <span class="py">s</span> <span class="p">=</span> <span class="n">digits</span><span class="p">.</span><span class="n">size</span>
        <span class="kd">val</span> <span class="py">weights</span> <span class="p">=</span> <span class="nc">IntArray</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="kd">var</span> <span class="py">i</span> <span class="p">=</span> <span class="m">1</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="p">&lt;</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">&lt;</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">digits</span><span class="p">.</span><span class="nf">swap</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="m">0</span> <span class="k">else</span> <span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

                <span class="kd">val</span> <span class="py">n</span> <span class="p">=</span> <span class="n">digits</span><span class="p">.</span><span class="n">number</span>
                <span class="kd">val</span> <span class="py">nf</span> <span class="p">=</span> <span class="n">n</span><span class="p">.</span><span class="n">factors</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">nf</span> <span class="p">&lt;</span> <span class="n">mnf</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">mnf</span> <span class="p">=</span> <span class="n">nf</span>
                    <span class="n">mn</span> <span class="p">=</span> <span class="n">n</span>
                <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nf</span> <span class="p">==</span> <span class="n">mnf</span> <span class="p">&amp;&amp;</span> <span class="n">n</span> <span class="p">&lt;</span> <span class="n">mn</span><span class="p">)</span>
                    <span class="n">mn</span> <span class="p">=</span> <span class="n">n</span>

                <span class="p">++</span><span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">i</span> <span class="p">=</span> <span class="m">1</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="m">0</span>
                <span class="p">++</span><span class="n">i</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">mn</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">List</span>


<span class="k">def</span> <span class="nf">_as_number</span><span class="p">(</span><span class="n">digits</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">digits</span><span class="p">:</span>
        <span class="n">re</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">re</span> <span class="o">+</span> <span class="n">d</span>
    <span class="k">return</span> <span class="n">re</span>


<span class="k">def</span> <span class="nf">_count_factors</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">nf</span> <span class="o">=</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">f</span> <span class="o">*</span> <span class="n">f</span> <span class="o">&lt;</span> <span class="n">number</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">number</span> <span class="o">%</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">nf</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="n">f</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">f</span> <span class="o">*</span> <span class="n">f</span> <span class="o">==</span> <span class="n">number</span><span class="p">:</span>
        <span class="n">nf</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">nf</span>


<span class="k">def</span> <span class="nf">_swap</span><span class="p">(</span><span class="n">ls</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">l</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="n">ls</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
    <span class="n">ls</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">ls</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
    <span class="n">ls</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>


<span class="k">class</span> <span class="nc">FewestFactors</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digits</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">mnf</span> <span class="o">=</span> <span class="n">_count_factors</span><span class="p">(</span><span class="n">mn</span> <span class="p">:</span><span class="o">=</span> <span class="n">_as_number</span><span class="p">(</span><span class="n">digits</span><span class="p">))</span>
        <span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">s</span> <span class="p">:</span><span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">digits</span><span class="p">))</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">weight</span> <span class="p">:</span><span class="o">=</span> <span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">:</span>
                <span class="n">_swap</span><span class="p">(</span><span class="n">digits</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">weight</span><span class="p">)</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">nf</span> <span class="p">:</span><span class="o">=</span> <span class="n">_count_factors</span><span class="p">(</span><span class="n">n</span> <span class="p">:</span><span class="o">=</span> <span class="n">_as_number</span><span class="p">(</span><span class="n">digits</span><span class="p">)))</span> <span class="o">&lt;</span> <span class="n">mnf</span><span class="p">:</span>
                    <span class="n">mnf</span> <span class="o">=</span> <span class="n">nf</span>
                    <span class="n">mn</span> <span class="o">=</span> <span class="n">n</span>
                <span class="k">elif</span> <span class="n">nf</span> <span class="o">==</span> <span class="n">mnf</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">mn</span><span class="p">:</span>
                    <span class="n">mn</span> <span class="o">=</span> <span class="n">n</span>

                <span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">weights</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">mn</span></code></pre></figure>
</li>
</ul>

<h3 id="FewestFactors-complexity">Complexity</h3>

<ul>
  <li>Time: \(\Theta(s! \cdot \sqrt{10^{s}})\)</li>
  <li>Space: \(\Theta(s)\)</li>
</ul>

<hr />

<h2 id="HandsShaking"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=7868">HandsShaking</a></h2>

<h3 id="HandsShaking-code">Code</h3>

<ul id="HandsShaking-tab" class="uk-tab" data-uk-switcher="{connect:'HandsShaking-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="HandsShaking-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">HandsShaking</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">long</span> <span class="n">countPerfect</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">half</span> <span class="o">=</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">long</span><span class="o">&gt;</span> <span class="n">maps</span><span class="p">(</span><span class="n">half</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">maps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">half</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
            <span class="kt">long</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">hi</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="n">maps</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">maps</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
            <span class="n">s</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">auto</span> <span class="n">t</span> <span class="o">=</span> <span class="n">maps</span><span class="p">[</span><span class="n">hi</span><span class="p">];</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="n">t</span> <span class="o">*</span> <span class="n">t</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">maps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">maps</span><span class="p">[</span><span class="n">half</span><span class="p">];</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">HandsShaking</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">Long</span><span class="p">.</span><span class="n">square</span><span class="p">:</span> <span class="nc">Long</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="k">this</span> <span class="p">*</span> <span class="k">this</span>

    <span class="k">fun</span> <span class="nf">countPerfect</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Long</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">half</span> <span class="p">=</span> <span class="n">n</span> <span class="p">/</span> <span class="m">2</span>
        <span class="kd">val</span> <span class="py">maps</span> <span class="p">=</span> <span class="nc">LongArray</span><span class="p">(</span><span class="n">half</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span>
        <span class="n">maps</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="m">1</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span> <span class="o">..</span> <span class="n">half</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">hi</span> <span class="p">=</span> <span class="n">i</span> <span class="p">/</span> <span class="m">2</span>
            <span class="kd">var</span> <span class="py">s</span> <span class="p">=</span> <span class="m">0L</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="m">0</span> <span class="n">until</span> <span class="n">hi</span><span class="p">)</span>
                <span class="n">s</span> <span class="p">+=</span> <span class="n">maps</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">*</span> <span class="n">maps</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="n">j</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span>
            <span class="n">s</span> <span class="p">*=</span> <span class="m">2</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span>
                <span class="n">s</span> <span class="p">+=</span> <span class="n">maps</span><span class="p">[</span><span class="n">hi</span><span class="p">].</span><span class="n">square</span>
            <span class="n">maps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">s</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">maps</span><span class="p">[</span><span class="n">half</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">HandsShaking</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">countPerfect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="p">(</span><span class="n">maps</span> <span class="p">:</span><span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">((</span><span class="n">half</span> <span class="p">:</span><span class="o">=</span> <span class="n">n</span> <span class="o">//</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">half</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">hi</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">maps</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">maps</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hi</span><span class="p">))</span> <span class="o">*</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="p">(</span><span class="n">t</span> <span class="p">:</span><span class="o">=</span> <span class="n">maps</span><span class="p">[</span><span class="n">hi</span><span class="p">])</span> <span class="o">*</span> <span class="n">t</span>
            <span class="n">maps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="k">return</span> <span class="n">maps</span><span class="p">[</span><span class="n">half</span><span class="p">]</span></code></pre></figure>
</li>
</ul>

<h3 id="HandsShaking-complexity">Complexity</h3>

<hr />

<h2 id="JumpyNum"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=4848">JumpyNum</a></h2>

<h3 id="JumpyNum-code">Code</h3>

<ul id="JumpyNum-tab" class="uk-tab" data-uk-switcher="{connect:'JumpyNum-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="JumpyNum-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">JumpyNum</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">counts</span><span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span> <span class="p">{};</span>

    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">howMany</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">num</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">auto</span> <span class="n">r</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">c</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="n">re</span> <span class="o">+=</span> <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="n">tmp</span> <span class="o">/=</span> <span class="mi">10</span><span class="p">;</span>
            <span class="n">p</span> <span class="o">*=</span> <span class="mi">10</span><span class="p">;</span>
            <span class="o">++</span><span class="n">c</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">num</span> <span class="o">/</span> <span class="n">p</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">r</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">c</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">prev</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">re</span> <span class="o">+=</span> <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="n">tmp</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="n">p</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">p</span> <span class="o">/=</span> <span class="mi">10</span><span class="p">;</span>
            <span class="o">--</span><span class="n">c</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">/</span> <span class="n">p</span><span class="p">;</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">c</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">curr</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">prev</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">re</span> <span class="o">+=</span> <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">curr</span> <span class="o">-</span> <span class="n">prev</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="n">tmp</span> <span class="o">%=</span> <span class="n">p</span><span class="p">;</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">curr</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="n">JumpyNum</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="n">std</span><span class="o">::</span><span class="n">fill</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="o">*</span> <span class="n">c</span> <span class="o">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span>
                    <span class="n">c</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">k</span><span class="p">)</span>
                    <span class="n">c</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">howMany</span><span class="p">(</span><span class="kt">int</span> <span class="n">low</span><span class="p">,</span> <span class="kt">int</span> <span class="n">high</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">howMany</span><span class="p">(</span><span class="n">high</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">howMany</span><span class="p">(</span><span class="n">low</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">JumpyNum</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">counts</span> <span class="p">=</span> <span class="nc">Array</span><span class="p">(</span><span class="m">10</span><span class="p">)</span> <span class="p">{</span> <span class="nc">IntArray</span><span class="p">(</span><span class="m">10</span><span class="p">)</span> <span class="p">}</span>

    <span class="nf">init</span> <span class="p">{</span>
        <span class="n">counts</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">fill</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
        <span class="n">counts</span><span class="p">.</span><span class="nf">reduce</span> <span class="p">{</span> <span class="n">p</span><span class="p">,</span> <span class="n">c</span> <span class="p">-&gt;</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">0</span><span class="o">..</span><span class="m">9</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="m">0</span> <span class="n">until</span> <span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span>
                    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">+=</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="n">i</span> <span class="p">+</span> <span class="m">2</span> <span class="n">until</span> <span class="n">c</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
                    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">+=</span> <span class="n">p</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="p">}</span>
            <span class="n">c</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">howMany</span><span class="p">(</span><span class="n">num</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">re</span> <span class="p">=</span> <span class="m">0</span>

        <span class="kd">var</span> <span class="py">p</span> <span class="p">=</span> <span class="m">1</span>
        <span class="kd">var</span> <span class="py">c</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">tmp</span> <span class="p">=</span> <span class="n">num</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">tmp</span> <span class="p">&gt;=</span> <span class="m">10</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">row</span> <span class="p">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="m">1</span><span class="o">..</span><span class="m">9</span><span class="p">)</span>
                <span class="n">re</span> <span class="p">+=</span> <span class="n">row</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">tmp</span> <span class="p">/=</span> <span class="m">10</span>
            <span class="n">p</span> <span class="p">*=</span> <span class="m">10</span>
            <span class="p">++</span><span class="n">c</span>
        <span class="p">}</span>

        <span class="kd">var</span> <span class="py">prev</span> <span class="p">=</span> <span class="n">num</span> <span class="p">/</span> <span class="n">p</span>
        <span class="kd">var</span> <span class="py">r</span> <span class="p">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span> <span class="n">until</span> <span class="n">prev</span><span class="p">)</span>
            <span class="n">re</span> <span class="p">+=</span> <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="n">tmp</span> <span class="p">=</span> <span class="n">num</span> <span class="p">%</span> <span class="n">p</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">tmp</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">p</span> <span class="p">/=</span> <span class="m">10</span>
            <span class="p">--</span><span class="n">c</span>
            <span class="kd">val</span> <span class="py">curr</span> <span class="p">=</span> <span class="n">tmp</span> <span class="p">/</span> <span class="n">p</span>
            <span class="n">r</span> <span class="p">=</span> <span class="n">counts</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">0</span> <span class="n">until</span> <span class="n">curr</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nc">Math</span><span class="p">.</span><span class="nf">abs</span><span class="p">(</span><span class="n">prev</span> <span class="p">-</span> <span class="n">i</span><span class="p">)</span> <span class="p">&gt;=</span> <span class="m">2</span><span class="p">)</span>
                    <span class="n">re</span> <span class="p">+=</span> <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="nc">Math</span><span class="p">.</span><span class="nf">abs</span><span class="p">(</span><span class="n">curr</span> <span class="p">-</span> <span class="n">prev</span><span class="p">)</span> <span class="p">&lt;</span> <span class="m">2</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="n">tmp</span> <span class="p">%=</span> <span class="n">p</span>
            <span class="n">prev</span> <span class="p">=</span> <span class="n">curr</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">re</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">howMany</span><span class="p">(</span><span class="n">low</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">high</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">howMany</span><span class="p">(</span><span class="n">high</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span> <span class="p">-</span> <span class="nf">howMany</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">JumpyNum</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="s">"_counts"</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_counts</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="p">[[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">10</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)]</span>
        <span class="n">p</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span> <span class="p">:</span><span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_counts</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span>
            <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
                <span class="n">c</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">p</span><span class="p">[:</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">2</span><span class="p">:])</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span>

    <span class="k">def</span> <span class="nf">_howMany</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">re</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">p</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">num</span>
        <span class="k">while</span> <span class="n">tmp</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">:</span>
            <span class="n">re</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_counts</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
            <span class="n">tmp</span> <span class="o">//=</span> <span class="mi">10</span>
            <span class="n">p</span> <span class="o">*=</span> <span class="mi">10</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">re</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_counts</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="mi">1</span><span class="p">:(</span><span class="n">prev</span> <span class="p">:</span><span class="o">=</span> <span class="n">num</span> <span class="o">//</span> <span class="n">p</span><span class="p">)])</span>

        <span class="n">tmp</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="n">p</span>
        <span class="k">while</span> <span class="n">tmp</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">//=</span> <span class="mi">10</span>
            <span class="n">c</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">//</span> <span class="n">p</span>
            <span class="n">re</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span>
                <span class="n">it</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">it</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_counts</span><span class="p">[</span><span class="n">c</span><span class="p">][:</span><span class="n">curr</span><span class="p">])</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">prev</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">curr</span> <span class="o">-</span> <span class="n">prev</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">tmp</span> <span class="o">%=</span> <span class="n">p</span>
            <span class="n">prev</span> <span class="o">=</span> <span class="n">curr</span>

        <span class="k">return</span> <span class="n">re</span>

    <span class="k">def</span> <span class="nf">howMany</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">low</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">high</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_howMany</span><span class="p">(</span><span class="n">high</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_howMany</span><span class="p">(</span><span class="n">low</span><span class="p">)</span></code></pre></figure>
</li>
</ul>

<h3 id="JumpyNum-complexity">Complexity</h3>

<hr />

<h2 id="MatchNumbersEasy"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6533">MatchNumbersEasy</a></h2>

<h3 id="MatchNumbersEasy-code">Code</h3>

<ul id="MatchNumbersEasy-tab" class="uk-tab" data-uk-switcher="{connect:'MatchNumbersEasy-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="MatchNumbersEasy-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cp">#include &lt;boost/multiprecision/cpp_int.hpp&gt;
</span>
<span class="k">class</span> <span class="nc">MatchNumbersEasy</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="n">boost</span><span class="o">::</span><span class="n">multiprecision</span><span class="o">::</span><span class="n">cpp_int</span> <span class="o">&amp;</span> <span class="n">explore</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">matches</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">boost</span><span class="o">::</span><span class="n">multiprecision</span><span class="o">::</span><span class="n">cpp_int</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">maps</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">maps</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">left</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">boost</span><span class="o">::</span><span class="n">multiprecision</span><span class="o">::</span><span class="n">cpp_int</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">matches</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="kt">int</span> <span class="n">match</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">match</span> <span class="o">&lt;=</span> <span class="n">left</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">auto</span> <span class="n">n</span> <span class="o">=</span> <span class="n">explore</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span> <span class="n">left</span> <span class="o">-</span> <span class="n">match</span><span class="p">,</span> <span class="n">maps</span><span class="p">);</span>
                    <span class="n">n</span> <span class="o">*=</span> <span class="mi">10</span><span class="p">;</span>
                    <span class="n">n</span> <span class="o">+=</span> <span class="n">i</span><span class="p">;</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="n">re</span><span class="p">)</span>
                        <span class="n">re</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="n">maps</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">re</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">maps</span><span class="p">[</span><span class="n">left</span><span class="p">];</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="kr">inline</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">maxNumber</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">matches</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">boost</span><span class="o">::</span><span class="n">multiprecision</span><span class="o">::</span><span class="n">cpp_int</span><span class="o">&gt;</span> <span class="n">tmp</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">stringstream</span> <span class="n">ss</span><span class="p">;</span>
        <span class="n">ss</span> <span class="o">&lt;&lt;</span> <span class="n">explore</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">ss</span><span class="p">.</span><span class="n">str</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="k">import</span> <span class="nn">java.math.BigInteger</span>

<span class="kd">class</span> <span class="nc">MatchNumbersEasy</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">fun</span> <span class="nf">explore</span><span class="p">(</span><span class="n">matches</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">left</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">maps</span><span class="p">:</span> <span class="nc">HashMap</span><span class="p">&lt;</span><span class="nc">Int</span><span class="p">,</span> <span class="nc">BigInteger</span><span class="p">&gt;):</span> <span class="nc">BigInteger</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="p">!</span><span class="k">in</span> <span class="n">maps</span><span class="p">)</span>
            <span class="n">maps</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="p">=</span> <span class="n">matches</span><span class="p">.</span><span class="nf">foldIndexed</span><span class="p">(</span><span class="nc">BigInteger</span><span class="p">.</span><span class="nc">ZERO</span><span class="p">)</span> <span class="p">{</span> <span class="n">i</span><span class="p">,</span> <span class="n">acc</span><span class="p">,</span> <span class="n">it</span> <span class="p">-&gt;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="p">&lt;=</span> <span class="n">left</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">val</span> <span class="py">new</span> <span class="p">=</span> <span class="nf">explore</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span> <span class="n">left</span> <span class="p">-</span> <span class="n">it</span><span class="p">,</span> <span class="n">maps</span><span class="p">)</span> <span class="p">*</span> <span class="nc">BigInteger</span><span class="p">(</span><span class="m">10</span><span class="p">.</span><span class="nf">toString</span><span class="p">())</span> <span class="p">+</span> <span class="nc">BigInteger</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="nf">toString</span><span class="p">())</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">new</span> <span class="p">&gt;</span> <span class="n">acc</span><span class="p">)</span>
                        <span class="n">new</span>
                    <span class="k">else</span>
                        <span class="n">acc</span>
                <span class="p">}</span> <span class="k">else</span>
                    <span class="n">acc</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">maps</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">!!</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">maxNumber</span><span class="p">(</span><span class="n">matches</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">String</span> <span class="p">=</span> <span class="nf">explore</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="nf">hashMapOf</span><span class="p">()).</span><span class="nf">toString</span><span class="p">()</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span>


<span class="k">def</span> <span class="nf">_explore</span><span class="p">(</span><span class="n">matches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">left</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">maps</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]):</span>
    <span class="k">if</span> <span class="n">left</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">maps</span><span class="p">:</span>
        <span class="n">maps</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span>
            <span class="n">_explore</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span> <span class="n">left</span> <span class="o">-</span> <span class="n">match</span><span class="p">,</span> <span class="n">maps</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">i</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">match</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">match</span> <span class="o">&lt;=</span> <span class="n">left</span>
        <span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">maps</span><span class="p">[</span><span class="n">left</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">MatchNumbersEasy</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">maxNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">_explore</span><span class="p">(</span><span class="n">matches</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="p">{}))</span></code></pre></figure>
</li>
</ul>

<h3 id="MatchNumbersEasy-complexity">Complexity</h3>

<hr />

<h2 id="LightSwitches"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6407">LightSwitches</a></h2>

<h3 id="LightSwitches-code">Code</h3>

<ul id="LightSwitches-tab" class="uk-tab" data-uk-switcher="{connect:'LightSwitches-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="LightSwitches-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">LightSwitches</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">size_t</span> <span class="n">msb</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">num</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">;</span>
        <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">;</span>
        <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">;</span>
        <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">;</span>
        <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">32</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="kr">inline</span> <span class="kt">long</span> <span class="n">countPossibleConfigurations</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">switches</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">n</span> <span class="o">=</span> <span class="n">switches</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span> <span class="n">converted</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
        <span class="kt">size_t</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">size_t</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">auto</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">switches</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">re</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'Y'</span><span class="p">)</span>
                    <span class="o">++</span><span class="n">re</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">re</span> <span class="o">&gt;</span> <span class="n">m</span><span class="p">)</span>
                <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="p">;</span>
            <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">msb</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">m</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">auto</span> <span class="n">c</span> <span class="o">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">c</span> <span class="o">&amp;</span> <span class="n">m</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">!=</span> <span class="n">r</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">r</span><span class="p">];</span>
                        <span class="n">converted</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="o">++</span><span class="n">r</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                        <span class="k">if</span> <span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">j</span><span class="p">];</span> <span class="n">s</span> <span class="o">&amp;</span> <span class="n">m</span><span class="p">)</span>
                            <span class="n">s</span> <span class="o">^=</span> <span class="n">c</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="n">m</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="mi">1L</span> <span class="o">&lt;&lt;</span> <span class="n">r</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">LightSwitches</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">Long</span><span class="p">.</span><span class="n">msb</span><span class="p">:</span> <span class="nc">Long</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="py">tmp</span> <span class="p">=</span> <span class="k">this</span> <span class="nf">or</span> <span class="p">(</span><span class="k">this</span> <span class="n">shr</span> <span class="m">1</span><span class="p">)</span>
            <span class="n">tmp</span> <span class="p">=</span> <span class="n">tmp</span> <span class="nf">or</span> <span class="p">(</span><span class="n">tmp</span> <span class="n">shr</span> <span class="m">2</span><span class="p">)</span>
            <span class="n">tmp</span> <span class="p">=</span> <span class="n">tmp</span> <span class="nf">or</span> <span class="p">(</span><span class="n">tmp</span> <span class="n">shr</span> <span class="m">4</span><span class="p">)</span>
            <span class="n">tmp</span> <span class="p">=</span> <span class="n">tmp</span> <span class="nf">or</span> <span class="p">(</span><span class="n">tmp</span> <span class="n">shr</span> <span class="m">8</span><span class="p">)</span>
            <span class="n">tmp</span> <span class="p">=</span> <span class="n">tmp</span> <span class="nf">or</span> <span class="p">(</span><span class="n">tmp</span> <span class="n">shr</span> <span class="m">16</span><span class="p">)</span>
            <span class="n">tmp</span> <span class="p">=</span> <span class="n">tmp</span> <span class="nf">or</span> <span class="p">(</span><span class="n">tmp</span> <span class="n">shr</span> <span class="m">32</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">tmp</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span> <span class="n">shr</span> <span class="m">1</span>
        <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">countPossibleConfigurations</span><span class="p">(</span><span class="n">switches</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;):</span> <span class="nc">Long</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">converted</span> <span class="p">=</span> <span class="nc">LongArray</span><span class="p">(</span><span class="n">switches</span><span class="p">.</span><span class="n">size</span><span class="p">)</span> <span class="p">{</span> <span class="n">i</span> <span class="p">-&gt;</span>
            <span class="n">switches</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">fold</span><span class="p">(</span><span class="m">0L</span><span class="p">)</span> <span class="p">{</span> <span class="n">acc</span><span class="p">,</span> <span class="n">c</span> <span class="p">-&gt;</span> <span class="p">(</span><span class="n">acc</span> <span class="n">shl</span> <span class="m">1</span><span class="p">)</span> <span class="p">+</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">==</span> <span class="sc">'Y'</span><span class="p">)</span> <span class="m">1L</span> <span class="k">else</span> <span class="m">0L</span> <span class="p">}</span>
        <span class="p">}</span>
        <span class="kd">val</span> <span class="py">n</span> <span class="p">=</span> <span class="n">converted</span><span class="p">.</span><span class="n">size</span>
        <span class="kd">var</span> <span class="py">m</span> <span class="p">=</span> <span class="n">converted</span><span class="p">.</span><span class="nf">fold</span><span class="p">(</span><span class="m">0L</span><span class="p">)</span> <span class="p">{</span> <span class="n">acc</span><span class="p">,</span> <span class="n">it</span> <span class="p">-&gt;</span> <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="p">&gt;</span> <span class="n">acc</span><span class="p">)</span> <span class="n">it</span> <span class="k">else</span> <span class="n">acc</span> <span class="p">}.</span><span class="n">msb</span>
        <span class="kd">var</span> <span class="py">r</span> <span class="p">=</span> <span class="m">0</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">m</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="py">found</span> <span class="p">=</span> <span class="k">false</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="n">r</span> <span class="n">until</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">val</span> <span class="py">c</span> <span class="p">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="n">and</span> <span class="n">m</span> <span class="p">!=</span> <span class="m">0L</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">!=</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
                        <span class="n">converted</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="p">=</span> <span class="n">c</span>
                    <span class="p">}</span>
                    <span class="n">found</span> <span class="p">=</span> <span class="k">true</span>
                    <span class="k">break</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">found</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">val</span> <span class="py">s</span> <span class="p">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="p">++</span><span class="n">r</span> <span class="n">until</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">val</span> <span class="py">c</span> <span class="p">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="n">and</span> <span class="n">m</span> <span class="p">!=</span> <span class="m">0L</span><span class="p">)</span>
                        <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">c</span> <span class="n">xor</span> <span class="n">s</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">m</span> <span class="p">=</span> <span class="n">m</span> <span class="n">shr</span> <span class="m">1</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="m">1L</span> <span class="n">shl</span> <span class="n">r</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">def</span> <span class="nf">_bitise</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="n">re</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'Y'</span><span class="p">:</span>
            <span class="n">re</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">re</span>


<span class="k">def</span> <span class="nf">_msb</span><span class="p">(</span><span class="n">num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
    <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span>
    <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span>
    <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span>
    <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span>
    <span class="n">num</span> <span class="o">|=</span> <span class="n">num</span> <span class="o">&gt;&gt;</span> <span class="mi">32</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>


<span class="k">class</span> <span class="nc">LightSwitches</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">countPossibleConfigurations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">switches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">switches</span> <span class="o">=</span> <span class="p">[</span><span class="n">_bitise</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">switches</span><span class="p">]</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">_msb</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">switches</span><span class="p">))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">switches</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">m</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">:</span><span class="o">=</span> <span class="n">switches</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&amp;</span> <span class="n">m</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">r</span><span class="p">:</span>
                        <span class="n">switches</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">switches</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
                        <span class="n">switches</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
                    <span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">switches</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">m</span><span class="p">:</span>
                            <span class="n">switches</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">^=</span> <span class="n">c</span>
                    <span class="k">break</span>
            <span class="n">m</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">r</span></code></pre></figure>
</li>
</ul>

<h3 id="LightSwitches-complexity">Complexity</h3>

<hr />

<h2 id="RockStar"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=2984">RockStar</a></h2>

<h3 id="RockStar-code">Code</h3>

<ul id="RockStar-tab" class="uk-tab" data-uk-switcher="{connect:'RockStar-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="RockStar-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">RockStar</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">getNumSongs</span><span class="p">(</span><span class="kt">int</span> <span class="n">ff</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fs</span><span class="p">,</span> <span class="kt">int</span> <span class="n">sf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ss</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">fs</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">fs</span> <span class="o">&gt;</span> <span class="n">sf</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">ff</span> <span class="o">+</span> <span class="n">ss</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sf</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">ff</span> <span class="o">+</span> <span class="n">ss</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">fs</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ff</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ff</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">sf</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ss</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">ss</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">RockStar</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">getNumSongs</span><span class="p">(</span><span class="n">ff</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">sf</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">ss</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="k">when</span> <span class="p">{</span>
        <span class="n">fs</span> <span class="p">!=</span> <span class="m">0</span> <span class="p">-&gt;</span> <span class="n">ff</span> <span class="p">+</span> <span class="n">ss</span> <span class="p">+</span> <span class="k">if</span> <span class="p">(</span><span class="n">fs</span> <span class="p">&gt;</span> <span class="n">sf</span><span class="p">)</span> <span class="m">2</span> <span class="p">*</span> <span class="n">sf</span> <span class="p">+</span> <span class="m">1</span> <span class="k">else</span> <span class="m">2</span> <span class="p">*</span> <span class="n">fs</span>
        <span class="n">ff</span> <span class="p">!=</span> <span class="m">0</span> <span class="p">-&gt;</span> <span class="n">ff</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="n">ss</span> <span class="p">+</span> <span class="k">if</span> <span class="p">(</span><span class="n">sf</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="m">1</span> <span class="k">else</span> <span class="m">0</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">RockStar</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">getNumSongs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ff</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">sf</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ss</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">fs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">fs</span> <span class="o">&gt;</span> <span class="n">sf</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">ff</span> <span class="o">+</span> <span class="n">ss</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sf</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">ff</span> <span class="o">+</span> <span class="n">ss</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">fs</span>
        <span class="k">if</span> <span class="n">ff</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ff</span>
        <span class="k">if</span> <span class="n">sf</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ss</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">ss</span></code></pre></figure>
</li>
</ul>

<h3 id="RockStar-complexity">Complexity</h3>

<hr />

<h2 id="AlmostBipartiteMatching"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6820">AlmostBipartiteMatching</a></h2>

<h3 id="AlmostBipartiteMatching-code">Code</h3>

<ul id="AlmostBipartiteMatching-tab" class="uk-tab" data-uk-switcher="{connect:'AlmostBipartiteMatching-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="AlmostBipartiteMatching-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">AlmostBipartiteMatching</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">maxMatching</span><span class="p">(</span><span class="kt">int</span> <span class="n">nA</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nB</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">edgesA</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">edgesB</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">re</span> <span class="o">=</span> <span class="p">(</span><span class="n">nA</span> <span class="o">+</span> <span class="n">nB</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nA</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">nB</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">edgesA</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">edgesA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">edgesB</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">re</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">AlmostBipartiteMatching</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">maxMatching</span><span class="p">(</span><span class="n">nA</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">nB</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">edgesA</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">edgesB</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">re</span> <span class="p">=</span> <span class="p">(</span><span class="n">nA</span> <span class="p">+</span> <span class="n">nB</span><span class="p">)</span> <span class="p">/</span> <span class="m">2</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nA</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span> <span class="p">||</span> <span class="n">nB</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">re</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="n">edgesA</span><span class="p">.</span><span class="n">indices</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">edgesA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span> <span class="p">&amp;&amp;</span> <span class="n">edgesB</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">re</span>
        <span class="k">return</span> <span class="n">re</span> <span class="p">-</span> <span class="m">1</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">AlmostBipartiteMatching</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">maxMatching</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">nA</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                    <span class="n">nB</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                    <span class="n">edgesA</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                    <span class="n">edgesB</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">re</span> <span class="o">=</span> <span class="p">(</span><span class="n">nA</span> <span class="o">+</span> <span class="n">nB</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">nA</span> <span class="o">%</span> <span class="mi">2</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">nB</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">re</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="ow">not</span> <span class="n">a</span> <span class="o">%</span> <span class="mi">2</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">b</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">edgesA</span><span class="p">,</span> <span class="n">edgesB</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">re</span>
        <span class="k">return</span> <span class="n">re</span> <span class="o">-</span> <span class="mi">1</span></code></pre></figure>
</li>
</ul>

<h3 id="AlmostBipartiteMatching-complexity">Complexity</h3>

<hr />

<h2 id="FamilyTravel"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=7514">FamilyTravel</a></h2>

<h3 id="FamilyTravel-code">Code</h3>

<ul id="FamilyTravel-tab" class="uk-tab" data-uk-switcher="{connect:'FamilyTravel-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="FamilyTravel-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">FamilyTravel</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">shortest</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">edges</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">auto</span> <span class="n">n</span> <span class="o">=</span> <span class="n">edges</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">m</span> <span class="o">=</span> <span class="n">edges</span><span class="p">.</span><span class="n">front</span><span class="p">().</span><span class="n">size</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">converted</span><span class="p">;</span>
        <span class="n">converted</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">auto</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">r</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">auto</span> <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">'0'</span><span class="p">)</span>
                    <span class="n">r</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">53</span><span class="p">;</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="sc">'a'</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="sc">'z'</span><span class="p">)</span>
                    <span class="n">r</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="sc">'a'</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="sc">'A'</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="sc">'Z'</span><span class="p">)</span>
                    <span class="n">r</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="sc">'A'</span> <span class="o">+</span> <span class="mi">27</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">converted</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">r</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">md</span><span class="p">;</span>
        <span class="n">md</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">md</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="mi">54</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">());</span>

        <span class="n">std</span><span class="o">::</span><span class="n">priority_queue</span> <span class="n">q</span> <span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">greater</span> <span class="p">{},</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="p">{</span> <span class="n">std</span><span class="o">::</span><span class="n">tuple</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span> <span class="p">};</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="k">auto</span> <span class="p">[</span><span class="n">d</span><span class="p">,</span> <span class="n">pd</span><span class="p">,</span> <span class="n">src</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
            <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">src</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">d</span><span class="p">;</span>

            <span class="k">auto</span> <span class="n">sc</span> <span class="o">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">src</span><span class="p">];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">sc</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">id</span> <span class="o">&lt;=</span> <span class="n">pd</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span><span class="k">auto</span> <span class="n">nd</span> <span class="o">=</span> <span class="n">d</span> <span class="o">+</span> <span class="n">id</span><span class="p">;</span> <span class="n">nd</span> <span class="o">&lt;</span> <span class="n">md</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">id</span><span class="p">])</span>
                    <span class="p">{</span>
                        <span class="n">md</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">nd</span><span class="p">;</span>
                        <span class="n">q</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">nd</span><span class="p">,</span> <span class="n">id</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
                    <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="k">import</span> <span class="nn">java.util.PriorityQueue</span>

<span class="kd">class</span> <span class="nc">FamilyTravel</span> <span class="p">{</span>
    <span class="kd">data class</span> <span class="nc">Stop</span><span class="p">(</span><span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">dist</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">prevDist</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">src</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">:</span> <span class="nc">Comparable</span><span class="p">&lt;</span><span class="nc">Stop</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="k">override</span> <span class="k">fun</span> <span class="nf">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="nc">Stop</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="n">dist</span> <span class="p">-</span> <span class="n">other</span><span class="p">.</span><span class="n">dist</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">shortest</span><span class="p">(</span><span class="n">edges</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">m</span> <span class="p">=</span> <span class="n">edges</span><span class="p">.</span><span class="nf">first</span><span class="p">().</span><span class="n">length</span>
        <span class="kd">val</span> <span class="py">converted</span> <span class="p">=</span> <span class="nc">Array</span><span class="p">(</span><span class="n">edges</span><span class="p">.</span><span class="n">size</span><span class="p">)</span> <span class="p">{</span> <span class="n">i</span> <span class="p">-&gt;</span>
            <span class="kd">val</span> <span class="py">s</span> <span class="p">=</span> <span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="nc">IntArray</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="p">{</span> <span class="n">j</span> <span class="p">-&gt;</span>
                <span class="k">when</span> <span class="p">(</span><span class="kd">val</span> <span class="py">c</span> <span class="p">=</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
                    <span class="k">in</span> <span class="sc">'a'</span> <span class="o">..</span> <span class="sc">'z'</span> <span class="p">-&gt;</span> <span class="n">c</span> <span class="p">-</span> <span class="sc">'a'</span> <span class="p">+</span> <span class="m">1</span>
                    <span class="k">in</span> <span class="sc">'A'</span> <span class="o">..</span> <span class="sc">'Z'</span> <span class="p">-&gt;</span> <span class="n">c</span> <span class="p">-</span> <span class="sc">'A'</span> <span class="p">+</span> <span class="m">27</span>
                    <span class="k">else</span> <span class="p">-&gt;</span> <span class="m">53</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="kd">val</span> <span class="py">q</span> <span class="p">=</span> <span class="nc">PriorityQueue</span><span class="p">&lt;</span><span class="nc">Stop</span><span class="p">&gt;()</span>
        <span class="n">q</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">Stop</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">52</span><span class="p">,</span> <span class="m">0</span><span class="p">))</span>

        <span class="kd">val</span> <span class="py">md</span> <span class="p">=</span> <span class="nc">Array</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">re</span> <span class="p">=</span> <span class="nc">IntArray</span><span class="p">(</span><span class="m">54</span><span class="p">)</span>
            <span class="n">re</span><span class="p">.</span><span class="nf">fill</span><span class="p">(</span><span class="nc">Int</span><span class="p">.</span><span class="nc">MAX_VALUE</span><span class="p">)</span>
            <span class="n">re</span>
        <span class="p">}</span>
        <span class="n">md</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="m">53</span><span class="p">]</span> <span class="p">=</span> <span class="m">0</span>

        <span class="k">while</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="nf">isNotEmpty</span><span class="p">())</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="p">(</span><span class="py">d</span><span class="p">,</span> <span class="py">pd</span><span class="p">,</span> <span class="py">src</span><span class="p">)</span> <span class="p">=</span> <span class="n">q</span><span class="p">.</span><span class="nf">poll</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">src</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">d</span>

            <span class="n">converted</span><span class="p">[</span><span class="n">src</span><span class="p">].</span><span class="nf">forEachIndexed</span> <span class="p">{</span> <span class="n">index</span><span class="p">,</span> <span class="n">i</span> <span class="p">-&gt;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">&lt;=</span> <span class="n">pd</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">val</span> <span class="py">nd</span> <span class="p">=</span> <span class="n">d</span> <span class="p">+</span> <span class="n">i</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">nd</span> <span class="p">&lt;</span> <span class="n">md</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
                        <span class="n">md</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">nd</span>
                        <span class="n">q</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">Stop</span><span class="p">(</span><span class="n">nd</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="p">-</span><span class="m">1</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">heapq</span> <span class="kn">import</span> <span class="n">heappop</span><span class="p">,</span> <span class="n">heappush</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">def</span> <span class="nf">_numberise</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="mi">53</span> <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'0'</span> <span class="k">else</span>
        <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'a'</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">islower</span><span class="p">()</span> <span class="k">else</span>
        <span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'A'</span><span class="p">)</span> <span class="o">+</span> <span class="mi">27</span><span class="p">)</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">isupper</span><span class="p">()</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span>
    <span class="p">]</span>


<span class="n">_inf</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">FamilyTravel</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">shortest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">edges</span> <span class="o">=</span> <span class="p">[</span><span class="n">_numberise</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">]</span>

        <span class="n">md</span> <span class="o">=</span> <span class="p">[[</span><span class="n">_inf</span><span class="p">]</span> <span class="o">*</span> <span class="mi">54</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="mi">0</span><span class="p">]))]</span>
        <span class="n">q</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
        <span class="k">while</span> <span class="n">q</span><span class="p">:</span>
            <span class="n">d</span><span class="p">,</span> <span class="n">pd</span><span class="p">,</span> <span class="n">src</span> <span class="o">=</span> <span class="n">heappop</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">src</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">d</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dd</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="n">src</span><span class="p">]):</span>
                <span class="k">if</span> <span class="n">dd</span> <span class="o">&lt;=</span> <span class="n">pd</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nd</span> <span class="p">:</span><span class="o">=</span> <span class="n">d</span> <span class="o">+</span> <span class="n">dd</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">md</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">dd</span><span class="p">]:</span>
                    <span class="n">md</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">dd</span><span class="p">]</span> <span class="o">=</span> <span class="n">nd</span>
                    <span class="n">heappush</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="p">(</span><span class="n">nd</span><span class="p">,</span> <span class="n">dd</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>

        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span></code></pre></figure>
</li>
</ul>

<h3 id="FamilyTravel-complexity">Complexity</h3>

<hr />

<h2 id="ClockRepairs"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=1346">ClockRepairs</a></h2>

<h3 id="ClockRepairs-code">Code</h3>

<ul id="ClockRepairs-tab" class="uk-tab" data-uk-switcher="{connect:'ClockRepairs-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="ClockRepairs-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">ClockRepairs</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">days</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">arrivals</span><span class="p">,</span> <span class="kt">int</span> <span class="n">numPerDay</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">days</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">remain</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arrivals</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="kt">int</span> <span class="n">elem</span> <span class="o">=</span> <span class="n">arrivals</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">elem</span> <span class="o">||</span> <span class="n">remain</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="o">++</span><span class="n">days</span><span class="p">;</span>
                <span class="n">remain</span> <span class="o">=</span> <span class="n">remain</span> <span class="o">+</span> <span class="n">elem</span> <span class="o">-</span> <span class="n">numPerDay</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">remain</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="n">remain</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">remain</span> <span class="o">%</span> <span class="n">numPerDay</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">days</span> <span class="o">+</span> <span class="n">remain</span> <span class="o">/</span> <span class="n">numPerDay</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">days</span> <span class="o">+</span> <span class="n">remain</span> <span class="o">/</span> <span class="n">numPerDay</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">ClockRepairs</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">days</span><span class="p">(</span><span class="n">arrivals</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">numPerDay</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">days</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">remain</span> <span class="p">=</span> <span class="m">0</span>
        <span class="n">arrivals</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="p">!=</span> <span class="m">0</span> <span class="p">||</span> <span class="n">remain</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="p">++</span><span class="n">days</span>
                <span class="n">remain</span> <span class="p">=</span> <span class="nc">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">remain</span> <span class="p">+</span> <span class="n">it</span> <span class="p">-</span> <span class="n">numPerDay</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="kd">val</span> <span class="py">re</span> <span class="p">=</span> <span class="n">days</span> <span class="p">+</span> <span class="n">remain</span> <span class="p">/</span> <span class="n">numPerDay</span>
        <span class="k">return</span> <span class="k">if</span> <span class="p">(</span><span class="n">remain</span> <span class="p">%</span> <span class="n">numPerDay</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="n">re</span> <span class="k">else</span> <span class="n">re</span> <span class="p">+</span> <span class="m">1</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">ClockRepairs</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">days</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arrivals</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">numPerDay</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">days</span> <span class="o">=</span> <span class="n">remain</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">arrivals</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">elem</span> <span class="ow">or</span> <span class="n">remain</span><span class="p">:</span>
                <span class="n">days</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">remain</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">remain</span> <span class="o">+</span> <span class="n">elem</span> <span class="o">-</span> <span class="n">numPerDay</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">remain</span> <span class="o">%</span> <span class="n">numPerDay</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">days</span> <span class="o">+</span> <span class="n">remain</span> <span class="o">//</span> <span class="n">numPerDay</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">days</span> <span class="o">+</span> <span class="n">remain</span> <span class="o">//</span> <span class="n">numPerDay</span></code></pre></figure>
</li>
</ul>

<h3 id="ClockRepairs-complexity">Complexity</h3>

<hr />

<h2 id="StringSegment"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6442">StringSegment</a></h2>

<h3 id="StringSegment-code">Code</h3>

<ul id="StringSegment-tab" class="uk-tab" data-uk-switcher="{connect:'StringSegment-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="StringSegment-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">StringSegment</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">double</span> <span class="n">average</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">char</span> <span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">!=</span> <span class="n">p</span><span class="p">)</span>
                <span class="o">++</span><span class="n">l</span><span class="p">;</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kt">double</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="n">l</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">StringSegment</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">average</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Double</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">l</span> <span class="p">=</span> <span class="m">1</span>
        <span class="n">s</span><span class="p">.</span><span class="nf">reduce</span> <span class="p">{</span> <span class="n">p</span><span class="p">,</span> <span class="n">c</span> <span class="p">-&gt;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">!=</span> <span class="n">p</span><span class="p">)</span>
                <span class="p">++</span><span class="n">l</span>
            <span class="n">c</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">length</span><span class="p">.</span><span class="nf">toDouble</span><span class="p">()</span> <span class="p">/</span> <span class="n">l</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">StringSegment</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">l</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">p</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span> <span class="p">:</span><span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">p</span><span class="p">:</span>
                <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">/</span> <span class="n">l</span></code></pre></figure>
</li>
</ul>

<h3 id="StringSegment-complexity">Complexity</h3>

<hr />

<h2 id="DestroyBall"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=12343">DestroyBall</a></h2>

<h3 id="DestroyBall-code">Code</h3>

<ul id="DestroyBall-tab" class="uk-tab" data-uk-switcher="{connect:'DestroyBall-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="DestroyBall-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">DestroyBall</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="n">RED</span> <span class="o">=</span> <span class="s">"RED"</span><span class="p">,</span> <span class="n">GREEN</span> <span class="o">=</span> <span class="s">"GREEN"</span><span class="p">,</span> <span class="n">BLUE</span> <span class="o">=</span> <span class="s">"BLUE"</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">ballColor</span><span class="p">(</span><span class="kt">long</span> <span class="n">r</span><span class="p">,</span> <span class="kt">long</span> <span class="n">g</span><span class="p">,</span> <span class="kt">long</span> <span class="n">b</span><span class="p">,</span> <span class="kt">long</span> <span class="n">k</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">long</span> <span class="n">rgb</span><span class="p">[]</span> <span class="p">{</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="p">};</span>
        <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">rgb</span><span class="p">,</span> <span class="n">rgb</span> <span class="o">+</span> <span class="mi">3</span><span class="p">);</span>
        <span class="k">auto</span> <span class="n">f</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">f</span><span class="p">)</span>
            <span class="k">switch</span> <span class="p">((</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">RED</span><span class="p">;</span>
                <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">GREEN</span><span class="p">;</span>
                <span class="nl">default:</span>
                    <span class="k">return</span> <span class="n">BLUE</span><span class="p">;</span>
            <span class="p">}</span>

        <span class="n">k</span> <span class="o">-=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">f</span><span class="p">;</span>
        <span class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="n">f</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="o">==</span> <span class="n">r</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">((</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">GREEN</span> <span class="o">:</span> <span class="n">BLUE</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="o">==</span> <span class="n">g</span><span class="p">)</span>
                <span class="k">return</span> <span class="p">((</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">RED</span> <span class="o">:</span> <span class="n">BLUE</span><span class="p">;</span>
            <span class="k">return</span> <span class="p">((</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="n">RED</span> <span class="o">:</span> <span class="n">GREEN</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">auto</span> <span class="n">l</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">RED</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">g</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">GREEN</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">BLUE</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">DestroyBall</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">red</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"RED"</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">green</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"GREEN"</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">blue</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"BLUE"</span>

    <span class="k">fun</span> <span class="nf">ballColor</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="nc">Long</span><span class="p">,</span> <span class="n">g</span><span class="p">:</span> <span class="nc">Long</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nc">Long</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nc">Long</span><span class="p">):</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">rgb</span> <span class="p">=</span> <span class="nf">longArrayOf</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">rgb</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>
        <span class="kd">var</span> <span class="py">c</span> <span class="p">=</span> <span class="n">k</span>
        <span class="kd">val</span> <span class="py">f</span> <span class="p">=</span> <span class="n">rgb</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">&lt;=</span> <span class="m">3</span> <span class="p">*</span> <span class="n">f</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">when</span> <span class="p">((</span><span class="n">c</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">%</span> <span class="m">3</span><span class="p">)</span> <span class="p">{</span>
                <span class="m">0L</span> <span class="p">-&gt;</span> <span class="n">red</span>
                <span class="m">1L</span> <span class="p">-&gt;</span> <span class="n">green</span>
                <span class="k">else</span> <span class="p">-&gt;</span> <span class="n">blue</span>
            <span class="p">}</span>

        <span class="n">c</span> <span class="p">-=</span> <span class="m">3</span> <span class="p">*</span> <span class="n">f</span>
        <span class="n">rgb</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">-=</span> <span class="n">f</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">&lt;=</span> <span class="m">2</span> <span class="p">*</span> <span class="n">rgb</span><span class="p">[</span><span class="m">1</span><span class="p">])</span>
            <span class="k">return</span> <span class="k">when</span> <span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">r</span> <span class="p">-&gt;</span> <span class="k">if</span> <span class="p">((</span><span class="n">c</span> <span class="p">-</span> <span class="m">1L</span><span class="p">)</span> <span class="p">%</span> <span class="m">2L</span> <span class="p">==</span> <span class="m">0L</span><span class="p">)</span> <span class="n">green</span> <span class="k">else</span> <span class="n">blue</span>
                <span class="n">g</span> <span class="p">-&gt;</span> <span class="k">if</span> <span class="p">((</span><span class="n">c</span> <span class="p">-</span> <span class="m">1L</span><span class="p">)</span> <span class="p">%</span> <span class="m">2L</span> <span class="p">==</span> <span class="m">0L</span><span class="p">)</span> <span class="n">red</span> <span class="k">else</span> <span class="n">blue</span>
                <span class="k">else</span> <span class="p">-&gt;</span> <span class="k">if</span> <span class="p">((</span><span class="n">c</span> <span class="p">-</span> <span class="m">1L</span><span class="p">)</span> <span class="p">%</span> <span class="m">2L</span> <span class="p">==</span> <span class="m">0L</span><span class="p">)</span> <span class="n">red</span> <span class="k">else</span> <span class="n">green</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="k">when</span> <span class="p">(</span><span class="n">rgb</span><span class="p">[</span><span class="m">2</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">r</span> <span class="p">-&gt;</span> <span class="n">red</span>
            <span class="n">g</span> <span class="p">-&gt;</span> <span class="n">green</span>
            <span class="k">else</span> <span class="p">-&gt;</span> <span class="n">blue</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">_RED</span> <span class="o">=</span> <span class="s">"RED"</span>
<span class="n">_GREEN</span> <span class="o">=</span> <span class="s">"GREEN"</span>
<span class="n">_BLUE</span> <span class="o">=</span> <span class="s">"BLUE"</span>


<span class="k">class</span> <span class="nc">DestroyBall</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">ballColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">g</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">rgb</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
        <span class="n">rgb</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_BLUE</span>
            <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_GREEN</span>
            <span class="k">return</span> <span class="n">_RED</span>

        <span class="n">k</span> <span class="o">-=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">f</span>
        <span class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="n">f</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="n">r</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_GREEN</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">_BLUE</span>
            <span class="k">if</span> <span class="n">f</span> <span class="o">==</span> <span class="n">g</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_RED</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">_BLUE</span>
            <span class="k">return</span> <span class="n">_RED</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">_GREEN</span>

        <span class="n">l</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="n">r</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_RED</span>
        <span class="k">if</span> <span class="n">l</span> <span class="o">==</span> <span class="n">g</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_GREEN</span>
        <span class="k">return</span> <span class="n">_BLUE</span></code></pre></figure>
</li>
</ul>

<h3 id="DestroyBall-complexity">Complexity</h3>

<hr />

<h2 id="VerticalFall"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=5915">VerticalFall</a></h2>

<h3 id="VerticalFall-code">Code</h3>

<ul id="VerticalFall-tab" class="uk-tab" data-uk-switcher="{connect:'VerticalFall-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="VerticalFall-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">VerticalFall</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">regex</span> <span class="k">const</span> <span class="n">matcher</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">regex</span><span class="p">(</span><span class="s">R"re((\d+) (\d+) (\d+))re"</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">regex</span><span class="o">::</span><span class="n">ECMAScript</span> <span class="o">|</span> <span class="n">std</span><span class="o">::</span><span class="n">regex</span><span class="o">::</span><span class="n">optimize</span><span class="p">);</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">dropTime</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">obstacles</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">n</span> <span class="o">=</span> <span class="n">obstacles</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">converted</span><span class="p">;</span>
        <span class="n">converted</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">std</span><span class="o">::</span><span class="n">smatch</span> <span class="n">match</span><span class="p">;</span>
            <span class="n">std</span><span class="o">::</span><span class="n">regex_match</span><span class="p">(</span><span class="n">obstacles</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">match</span><span class="p">,</span> <span class="n">matcher</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">auto</span> <span class="n">cy</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">stoi</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="n">cy</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">)</span>
                <span class="n">converted</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">cy</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">stoi</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="n">std</span><span class="o">::</span><span class="n">stoi</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">3</span><span class="p">]));</span>
        <span class="p">}</span>
        <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">converted</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">converted</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">greater</span> <span class="p">{});</span>
        <span class="kt">int</span> <span class="n">cx</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">converted</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">auto</span> <span class="p">[</span><span class="n">_</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">]</span> <span class="o">=</span> <span class="n">converted</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">cx</span> <span class="o">&gt;=</span> <span class="n">x1</span> <span class="o">&amp;&amp;</span> <span class="n">cx</span> <span class="o">&lt;=</span> <span class="n">x2</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">cx</span> <span class="o">=</span> <span class="n">x2</span><span class="p">;</span>
                <span class="n">extra</span> <span class="o">+=</span> <span class="mi">5</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="n">y</span> <span class="o">+</span> <span class="n">extra</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">VerticalFall</span> <span class="p">{</span>
    <span class="kd">data class</span> <span class="nc">Obstacle</span><span class="p">(</span><span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">y</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">x1</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="nd">@JvmField</span> <span class="kd">val</span> <span class="py">x2</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">:</span> <span class="nc">Comparable</span><span class="p">&lt;</span><span class="nc">Obstacle</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="k">override</span> <span class="k">fun</span> <span class="nf">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="nc">Obstacle</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="n">y</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">dropTime</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">obstacles</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">converted</span> <span class="p">=</span> <span class="nc">ArrayList</span><span class="p">&lt;</span><span class="nc">Obstacle</span><span class="p">&gt;(</span><span class="n">obstacles</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
        <span class="n">obstacles</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">s</span> <span class="p">=</span> <span class="n">it</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sc">' '</span><span class="p">)</span>
            <span class="kd">val</span> <span class="py">cy</span> <span class="p">=</span> <span class="n">s</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">toInt</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">cy</span> <span class="p">&lt;=</span> <span class="n">y</span><span class="p">)</span>
                <span class="n">converted</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">Obstacle</span><span class="p">(</span><span class="n">cy</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">toInt</span><span class="p">(),</span> <span class="n">s</span><span class="p">[</span><span class="m">2</span><span class="p">].</span><span class="nf">toInt</span><span class="p">()))</span>
        <span class="p">}</span>
        <span class="n">converted</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>
        <span class="kd">var</span> <span class="py">cx</span> <span class="p">=</span> <span class="n">x</span>
        <span class="kd">var</span> <span class="py">extra</span> <span class="p">=</span> <span class="m">0</span>
        <span class="n">converted</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">)</span> <span class="p">-&gt;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">cx</span> <span class="k">in</span> <span class="n">x1</span> <span class="o">..</span> <span class="n">x2</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cx</span> <span class="p">=</span> <span class="n">x2</span>
                <span class="n">extra</span> <span class="p">+=</span> <span class="m">5</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">y</span> <span class="p">+</span> <span class="n">extra</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">VerticalFall</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">dropTime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">obstacles</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">cx</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(((</span><span class="n">cy</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">)</span> <span class="k">for</span> <span class="n">cy</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">ss</span><span class="p">)</span> <span class="k">for</span> <span class="n">ss</span> <span class="ow">in</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">obstacles</span><span class="p">)</span>
        <span class="p">)</span> <span class="k">if</span> <span class="n">cy</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">x1</span> <span class="o">&lt;=</span> <span class="n">cx</span> <span class="o">&lt;=</span> <span class="n">x2</span><span class="p">:</span>
                <span class="n">cx</span> <span class="o">=</span> <span class="n">x2</span>
                <span class="n">extra</span> <span class="o">+=</span> <span class="mi">5</span>
        <span class="k">return</span> <span class="n">y</span> <span class="o">+</span> <span class="n">extra</span></code></pre></figure>
</li>
</ul>

<h3 id="VerticalFall-complexity">Complexity</h3>

<hr />

<h2 id="WordScramble"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6090">WordScramble</a></h2>

<h3 id="WordScramble-code">Code</h3>

<ul id="WordScramble-tab" class="uk-tab" data-uk-switcher="{connect:'WordScramble-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="WordScramble-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">WordScramble</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">translate</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">word</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">v</span><span class="p">,</span> <span class="n">n</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">s</span> <span class="o">=</span> <span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">v</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
        <span class="n">n</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="k">switch</span> <span class="p">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">tolower</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="sc">'a'</span><span class="p">:</span>
                <span class="k">case</span> <span class="sc">'e'</span><span class="p">:</span>
                <span class="k">case</span> <span class="sc">'i'</span><span class="p">:</span>
                <span class="k">case</span> <span class="sc">'o'</span><span class="p">:</span>
                <span class="k">case</span> <span class="sc">'u'</span><span class="p">:</span>
                    <span class="n">v</span> <span class="o">+=</span> <span class="n">c</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="nl">default:</span>
                    <span class="n">n</span> <span class="o">+=</span> <span class="n">c</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="n">n</span> <span class="o">+=</span> <span class="n">v</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">n</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">WordScramble</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">translate</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">s</span> <span class="p">=</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span>
        <span class="kd">val</span> <span class="py">sbv</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="kd">val</span> <span class="py">sbo</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">word</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span>
            <span class="k">when</span> <span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="nf">toLowerCase</span><span class="p">())</span> <span class="p">{</span>
                <span class="sc">'a'</span><span class="p">,</span> <span class="sc">'e'</span><span class="p">,</span> <span class="sc">'i'</span><span class="p">,</span> <span class="sc">'o'</span><span class="p">,</span> <span class="sc">'u'</span> <span class="p">-&gt;</span> <span class="n">sbv</span>
                <span class="k">else</span> <span class="p">-&gt;</span> <span class="n">sbo</span>
            <span class="p">}.</span><span class="nf">append</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">sbo</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">sbv</span><span class="p">).</span><span class="nf">toString</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">WordScramble</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">n</span> <span class="o">=</span> <span class="s">""</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">,</span> <span class="s">'i'</span><span class="p">,</span> <span class="s">'o'</span><span class="p">,</span> <span class="s">'u'</span><span class="p">):</span>
                <span class="n">v</span> <span class="o">+=</span> <span class="n">c</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">+=</span> <span class="n">c</span>
        <span class="k">return</span> <span class="n">n</span> <span class="o">+</span> <span class="n">v</span></code></pre></figure>
</li>
</ul>

<h3 id="WordScramble-complexity">Complexity</h3>

<hr />

<h2 id="WaiterJob"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=8786">WaiterJob</a></h2>

<h3 id="WaiterJob-code">Code</h3>

<ul id="WaiterJob-tab" class="uk-tab" data-uk-switcher="{connect:'WaiterJob-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="WaiterJob-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">WaiterJob</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">allocateTables</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">tables</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">groupSizes</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">arrivals</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">departures</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">tables</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">tables</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
        <span class="kt">size_t</span> <span class="n">n</span> <span class="o">=</span> <span class="n">tables</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">left</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">groupSizes</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="n">groupSizes</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="kt">bool</span> <span class="n">notfound</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">&lt;=</span> <span class="n">tables</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">arrivals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">left</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
                <span class="p">{</span>
                    <span class="n">left</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">departures</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                    <span class="n">notfound</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">notfound</span><span class="p">)</span>
                <span class="n">re</span> <span class="o">+=</span> <span class="n">s</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">re</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">WaiterJob</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">allocateTables</span><span class="p">(</span><span class="n">tables</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">groupSizes</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">arrivals</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">,</span> <span class="n">departures</span><span class="p">:</span> <span class="nc">IntArray</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="n">tables</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span>
        <span class="kd">val</span> <span class="py">left</span> <span class="p">=</span> <span class="nc">IntArray</span><span class="p">(</span><span class="n">tables</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
        <span class="kd">var</span> <span class="py">re</span> <span class="p">=</span> <span class="m">0</span>
        <span class="n">groupSizes</span><span class="p">.</span><span class="nf">forEachIndexed</span> <span class="p">{</span> <span class="n">i</span><span class="p">,</span> <span class="n">s</span> <span class="p">-&gt;</span>
            <span class="kd">var</span> <span class="py">notfound</span> <span class="p">=</span> <span class="k">true</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="k">in</span> <span class="n">tables</span><span class="p">.</span><span class="n">indices</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="p">&lt;=</span> <span class="n">tables</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">&amp;&amp;</span> <span class="n">arrivals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">&gt;=</span> <span class="n">left</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
                    <span class="n">left</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="n">departures</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">notfound</span> <span class="p">=</span> <span class="k">false</span>
                    <span class="k">break</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">notfound</span><span class="p">)</span>
                <span class="n">re</span> <span class="p">+=</span> <span class="n">s</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">re</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">class</span> <span class="nc">WaiterJob</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">allocateTables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">tables</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                       <span class="n">groupSizes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                       <span class="n">arrivals</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                       <span class="n">departures</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">tables</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">left</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">tables</span><span class="p">)</span>
        <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">groupSizes</span><span class="p">,</span> <span class="n">arrivals</span><span class="p">)):</span>
            <span class="n">notfound</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">tables</span><span class="p">,</span> <span class="n">left</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">s</span> <span class="o">&lt;=</span> <span class="n">t</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">&gt;=</span> <span class="n">l</span><span class="p">:</span>
                    <span class="n">left</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">departures</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">notfound</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">notfound</span><span class="p">:</span>
                <span class="n">re</span> <span class="o">+=</span> <span class="n">s</span>
        <span class="k">return</span> <span class="n">re</span></code></pre></figure>
</li>
</ul>

<h3 id="WaiterJob-complexity">Complexity</h3>

<hr />

<h2 id="TwoStringMasks"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=8706">TwoStringMasks</a></h2>

<h3 id="TwoStringMasks-code">Code</h3>

<ul id="TwoStringMasks-tab" class="uk-tab" data-uk-switcher="{connect:'TwoStringMasks-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="TwoStringMasks-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">TwoStringMasks</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="n">IMPOSSIBLE</span> <span class="o">=</span> <span class="s">"impossible"</span><span class="p">;</span>

    <span class="kr">inline</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">trim</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">b</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">e</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">b</span> <span class="o">&lt;=</span> <span class="n">e</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">'*'</span><span class="p">)</span>
            <span class="o">++</span><span class="n">b</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kr">inline</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">combine</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">s1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">s2</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">b1</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">b2</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">e1</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">e2</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="o">++</span><span class="n">b2</span><span class="p">;</span>
        <span class="k">auto</span> <span class="n">tb1</span> <span class="o">=</span> <span class="n">b1</span><span class="p">,</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">e1</span> <span class="o">-</span> <span class="n">tb1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">e2</span> <span class="o">-</span> <span class="n">b2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">l1</span> <span class="o">&gt;</span> <span class="n">l2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">tb1</span> <span class="o">+=</span> <span class="n">l1</span> <span class="o">-</span> <span class="n">l2</span><span class="p">;</span>
            <span class="n">l1</span> <span class="o">=</span> <span class="n">l2</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">tb1</span> <span class="o">&lt;</span> <span class="n">e1</span> <span class="o">&amp;&amp;</span> <span class="n">s1</span><span class="p">.</span><span class="n">compare</span><span class="p">(</span><span class="n">tb1</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">l1</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="o">++</span><span class="n">tb1</span><span class="p">;</span>
            <span class="o">--</span><span class="n">l1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">s1</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tb1</span><span class="p">,</span> <span class="n">l1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">l2</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">s1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="nl">public:</span>
    <span class="kr">inline</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">shortestCommon</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">s1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">s2</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">size_t</span> <span class="n">b1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">char</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="n">b1</span><span class="p">],</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">s2</span><span class="p">[</span><span class="n">b2</span><span class="p">];</span> <span class="n">c1</span> <span class="o">!=</span> <span class="sc">'*'</span> <span class="o">&amp;&amp;</span> <span class="n">c2</span> <span class="o">!=</span> <span class="sc">'*'</span><span class="p">;</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="o">++</span><span class="n">b1</span><span class="p">],</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">s2</span><span class="p">[</span><span class="o">++</span><span class="n">b2</span><span class="p">])</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c1</span> <span class="o">!=</span> <span class="n">c2</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">IMPOSSIBLE</span><span class="p">;</span>

        <span class="kt">size_t</span> <span class="n">e1</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">e2</span> <span class="o">=</span> <span class="n">s2</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">char</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="n">e1</span><span class="p">],</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">s2</span><span class="p">[</span><span class="n">e2</span><span class="p">];</span> <span class="n">c1</span> <span class="o">!=</span> <span class="sc">'*'</span> <span class="o">&amp;&amp;</span> <span class="n">c2</span> <span class="o">!=</span> <span class="sc">'*'</span><span class="p">;</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="o">--</span><span class="n">e1</span><span class="p">],</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">s2</span><span class="p">[</span><span class="o">--</span><span class="n">e2</span><span class="p">])</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c1</span> <span class="o">!=</span> <span class="n">c2</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">IMPOSSIBLE</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">b1</span> <span class="o">==</span> <span class="n">e1</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">trim</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">e2</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">b2</span> <span class="o">==</span> <span class="n">e2</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">trim</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">e1</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'*'</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">combine</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">combine</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e1</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">TwoStringMasks</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">IMPOSSIBLE</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"impossible"</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nc">String</span><span class="p">.</span><span class="nf">trim</span><span class="p">(</span><span class="n">b</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">i</span> <span class="p">=</span> <span class="n">b</span>
        <span class="k">while</span> <span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">'*'</span><span class="p">)</span>
            <span class="p">++</span><span class="n">i</span>
        <span class="k">return</span> <span class="nf">removeRange</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nc">String</span><span class="p">.</span><span class="nf">combine</span><span class="p">(</span><span class="n">b1</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">e1</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">b2</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">e2</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">nb2</span> <span class="p">=</span> <span class="n">b2</span> <span class="p">+</span> <span class="m">1</span>
        <span class="kd">var</span> <span class="py">tb1</span> <span class="p">=</span> <span class="n">b1</span>
        <span class="kd">var</span> <span class="py">l1</span> <span class="p">=</span> <span class="n">e1</span> <span class="p">-</span> <span class="n">tb1</span>
        <span class="kd">val</span> <span class="py">l2</span> <span class="p">=</span> <span class="n">e2</span> <span class="p">-</span> <span class="n">nb2</span> <span class="p">+</span> <span class="m">1</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">l1</span> <span class="p">&gt;</span> <span class="n">l2</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">tb1</span> <span class="p">+=</span> <span class="n">l1</span> <span class="p">-</span> <span class="n">l2</span>
            <span class="n">l1</span> <span class="p">=</span> <span class="n">l2</span>
        <span class="p">}</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">tb1</span> <span class="p">&lt;</span> <span class="n">e1</span> <span class="p">&amp;&amp;</span> <span class="nf">subSequence</span><span class="p">(</span><span class="n">tb1</span><span class="p">,</span> <span class="n">tb1</span> <span class="p">+</span> <span class="n">l1</span><span class="p">)</span> <span class="p">!=</span> <span class="n">other</span><span class="p">.</span><span class="nf">subSequence</span><span class="p">(</span><span class="n">nb2</span><span class="p">,</span> <span class="n">nb2</span> <span class="p">+</span> <span class="n">l1</span><span class="p">))</span> <span class="p">{</span>
            <span class="p">++</span><span class="n">tb1</span>
            <span class="p">--</span><span class="n">l1</span>
        <span class="p">}</span>
        <span class="kd">val</span> <span class="py">sb</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">(</span><span class="n">tb1</span> <span class="p">+</span> <span class="n">other</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="n">b2</span><span class="p">)</span>
        <span class="n">sb</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">tb1</span><span class="p">)</span>
        <span class="n">sb</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">nb2</span><span class="p">,</span> <span class="n">other</span><span class="p">.</span><span class="n">length</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">shortestCommon</span><span class="p">(</span><span class="n">s1</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">s2</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">b1</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">b2</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">c1</span> <span class="p">=</span> <span class="n">s1</span><span class="p">[</span><span class="n">b1</span><span class="p">]</span>
        <span class="kd">var</span> <span class="py">c2</span> <span class="p">=</span> <span class="n">s2</span><span class="p">[</span><span class="n">b2</span><span class="p">]</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">c1</span> <span class="p">!=</span> <span class="sc">'*'</span> <span class="p">&amp;&amp;</span> <span class="n">c2</span> <span class="p">!=</span> <span class="sc">'*'</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c1</span> <span class="p">!=</span> <span class="n">c2</span><span class="p">)</span>
                <span class="k">return</span> <span class="nc">IMPOSSIBLE</span>
            <span class="n">c1</span> <span class="p">=</span> <span class="n">s1</span><span class="p">[++</span><span class="n">b1</span><span class="p">]</span>
            <span class="n">c2</span> <span class="p">=</span> <span class="n">s2</span><span class="p">[++</span><span class="n">b2</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="kd">var</span> <span class="py">e1</span> <span class="p">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="m">1</span>
        <span class="kd">var</span> <span class="py">e2</span> <span class="p">=</span> <span class="n">s2</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="m">1</span>
        <span class="n">c1</span> <span class="p">=</span> <span class="n">s1</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span>
        <span class="n">c2</span> <span class="p">=</span> <span class="n">s2</span><span class="p">[</span><span class="n">e2</span><span class="p">]</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">c1</span> <span class="p">!=</span> <span class="sc">'*'</span> <span class="p">&amp;&amp;</span> <span class="n">c2</span> <span class="p">!=</span> <span class="sc">'*'</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c1</span> <span class="p">!=</span> <span class="n">c2</span><span class="p">)</span>
                <span class="k">return</span> <span class="nc">IMPOSSIBLE</span>
            <span class="n">c1</span> <span class="p">=</span> <span class="n">s1</span><span class="p">[--</span><span class="n">e1</span><span class="p">]</span>
            <span class="n">c2</span> <span class="p">=</span> <span class="n">s2</span><span class="p">[--</span><span class="n">e2</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="k">when</span> <span class="p">{</span>
            <span class="n">b1</span> <span class="p">==</span> <span class="n">e1</span> <span class="p">-&gt;</span> <span class="n">s2</span><span class="p">.</span><span class="nf">trim</span><span class="p">(</span><span class="n">b2</span><span class="p">)</span>
            <span class="n">b2</span> <span class="p">==</span> <span class="n">e2</span> <span class="p">-&gt;</span> <span class="n">s1</span><span class="p">.</span><span class="nf">trim</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span>
            <span class="n">s1</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'*'</span> <span class="p">-&gt;</span> <span class="n">s1</span><span class="p">.</span><span class="nf">combine</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span>
            <span class="k">else</span> <span class="p">-&gt;</span> <span class="n">s2</span><span class="p">.</span><span class="nf">combine</span><span class="p">(</span><span class="n">b2</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">e1</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">_IMPOSSIBLE</span> <span class="o">=</span> <span class="s">"impossible"</span>


<span class="k">class</span> <span class="nc">TwoStringMasks</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">_trim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">s</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">!=</span> <span class="s">'*'</span><span class="p">:</span>
            <span class="n">b</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">[:</span><span class="n">b</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="n">b</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">_combine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">s1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="n">b1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="n">e1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="n">s2</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="n">b2</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="n">e2</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">b2</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">tb1</span> <span class="o">=</span> <span class="n">b1</span>
        <span class="n">l1</span> <span class="o">=</span> <span class="n">e1</span> <span class="o">-</span> <span class="n">tb1</span>
        <span class="n">l2</span> <span class="o">=</span> <span class="n">e2</span> <span class="o">-</span> <span class="n">b2</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">l1</span> <span class="o">&gt;</span> <span class="n">l2</span><span class="p">:</span>
            <span class="n">tb1</span> <span class="o">+=</span> <span class="n">l1</span> <span class="o">-</span> <span class="n">l2</span>
            <span class="n">l1</span> <span class="o">=</span> <span class="n">l2</span>
        <span class="k">while</span> <span class="n">tb1</span> <span class="o">&lt;</span> <span class="n">e1</span> <span class="ow">and</span> <span class="n">s1</span><span class="p">[</span><span class="n">tb1</span><span class="p">:</span><span class="n">tb1</span> <span class="o">+</span> <span class="n">l1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">s2</span><span class="p">[</span><span class="n">b2</span><span class="p">:</span><span class="n">b2</span> <span class="o">+</span> <span class="n">l1</span><span class="p">]:</span>
            <span class="n">tb1</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">l1</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">s1</span><span class="p">[:</span><span class="n">tb1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s2</span><span class="p">[</span><span class="n">b2</span><span class="p">:</span><span class="n">b2</span> <span class="o">+</span> <span class="n">l2</span><span class="p">]</span> <span class="o">+</span> <span class="n">s1</span><span class="p">[</span><span class="n">tb1</span> <span class="o">+</span> <span class="n">l1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">shortestCommon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s1</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">s2</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">b1</span> <span class="o">=</span> <span class="n">b2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">c1</span> <span class="p">:</span><span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="n">b1</span><span class="p">])</span> <span class="o">!=</span> <span class="s">'*'</span> <span class="ow">and</span> <span class="p">(</span><span class="n">c2</span> <span class="p">:</span><span class="o">=</span> <span class="n">s2</span><span class="p">[</span><span class="n">b2</span><span class="p">])</span> <span class="o">!=</span> <span class="s">'*'</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c1</span> <span class="o">!=</span> <span class="n">c2</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_IMPOSSIBLE</span>
            <span class="n">b1</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">b2</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">e1</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">c1</span> <span class="p">:</span><span class="o">=</span> <span class="n">s1</span><span class="p">[</span><span class="n">e1</span><span class="p">])</span> <span class="o">!=</span> <span class="s">'*'</span> <span class="ow">and</span> <span class="p">(</span><span class="n">c2</span> <span class="p">:</span><span class="o">=</span> <span class="n">s2</span><span class="p">[</span><span class="n">e2</span><span class="p">])</span> <span class="o">!=</span> <span class="s">'*'</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c1</span> <span class="o">!=</span> <span class="n">c2</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">_IMPOSSIBLE</span>
            <span class="n">e1</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">e2</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">b1</span> <span class="o">==</span> <span class="n">e1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_trim</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">b2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">b2</span> <span class="o">==</span> <span class="n">e2</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_trim</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">s1</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'*'</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_combine</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">e1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_combine</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="n">e1</span><span class="p">)</span></code></pre></figure>
</li>
</ul>

<h3 id="TwoStringMasks-complexity">Complexity</h3>

<hr />

<h2 id="LOR"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=11738">LOR</a></h2>

<h3 id="LOR-code">Code</h3>

<ul id="LOR-tab" class="uk-tab" data-uk-switcher="{connect:'LOR-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="LOR-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">LOR</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">maxDistance</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span> <span class="o">&amp;</span> <span class="n">program</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">curr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">extra</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">mc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">program</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">switch</span> <span class="p">(</span><span class="n">program</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="sc">'L'</span><span class="p">:</span>
                    <span class="o">--</span><span class="n">curr</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">'R'</span><span class="p">:</span>
                    <span class="o">++</span><span class="n">curr</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="sc">'?'</span><span class="p">:</span>
                    <span class="o">++</span><span class="n">extra</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="nl">default:</span>
                    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">mc</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">max</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="p">(</span><span class="n">curr</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="o">-</span><span class="n">curr</span> <span class="o">+</span> <span class="n">extra</span> <span class="o">:</span> <span class="n">curr</span> <span class="o">+</span> <span class="n">extra</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">mc</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">LOR</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">maxDistance</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">curr</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">extra</span> <span class="p">=</span> <span class="m">0</span>
        <span class="k">return</span> <span class="n">program</span><span class="p">.</span><span class="nf">fold</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">acc</span><span class="p">,</span> <span class="n">it</span> <span class="p">-&gt;</span>
            <span class="k">when</span> <span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">{</span>
                <span class="sc">'L'</span> <span class="p">-&gt;</span> <span class="p">--</span><span class="n">curr</span>
                <span class="sc">'R'</span> <span class="p">-&gt;</span> <span class="p">++</span><span class="n">curr</span>
                <span class="sc">'?'</span> <span class="p">-&gt;</span> <span class="p">++</span><span class="n">extra</span>
            <span class="p">}</span>
            <span class="nc">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="n">acc</span><span class="p">,</span> <span class="k">if</span> <span class="p">(</span><span class="n">curr</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">-</span><span class="n">curr</span> <span class="p">+</span> <span class="n">extra</span> <span class="k">else</span> <span class="n">curr</span> <span class="p">+</span> <span class="n">extra</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">LOR</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">maxDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">program</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">extra</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">mc</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">program</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'L'</span><span class="p">:</span>
                <span class="n">curr</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'R'</span><span class="p">:</span>
                <span class="n">curr</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s">'?'</span><span class="p">:</span>
                <span class="n">extra</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">mc</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="n">curr</span> <span class="o">+</span> <span class="n">extra</span><span class="p">)</span> <span class="k">if</span> <span class="n">curr</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">(</span><span class="n">curr</span> <span class="o">+</span> <span class="n">extra</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">mc</span></code></pre></figure>
</li>
</ul>

<h3 id="LOR-complexity">Complexity</h3>

<hr />

<h2 id="MakingChange"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=10285">MakingChange</a></h2>

<h3 id="MakingChange-code">Code</h3>

<ul id="MakingChange-tab" class="uk-tab" data-uk-switcher="{connect:'MakingChange-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="MakingChange-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">MakingChange</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">coins</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="nl">public:</span>
    <span class="n">MakingChange</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">25</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kr">inline</span> <span class="kt">int</span> <span class="n">smallestChange</span><span class="p">(</span><span class="kt">long</span> <span class="n">cost</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">cost</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="n">coins</span><span class="p">[</span><span class="n">cost</span> <span class="o">%</span> <span class="mi">100</span><span class="p">];</span>
            <span class="n">cost</span> <span class="o">/=</span> <span class="mi">100</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">c</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">MakingChange</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">coins</span> <span class="p">=</span> <span class="nc">IntArray</span><span class="p">(</span><span class="m">100</span><span class="p">)</span> <span class="p">{</span> <span class="n">it</span> <span class="p">}</span>

    <span class="nf">init</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">10</span> <span class="n">until</span> <span class="m">100</span><span class="p">)</span>
            <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="nc">Math</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">10</span><span class="p">]</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">25</span> <span class="n">until</span> <span class="m">100</span><span class="p">)</span>
            <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="nc">Math</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">25</span><span class="p">]</span> <span class="p">+</span> <span class="m">1</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">smallestChange</span><span class="p">(</span><span class="n">cost</span><span class="p">:</span> <span class="nc">Long</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">cc</span> <span class="p">=</span> <span class="n">cost</span>
        <span class="kd">var</span> <span class="py">c</span> <span class="p">=</span> <span class="m">0</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">cc</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">c</span> <span class="p">+=</span> <span class="n">coins</span><span class="p">[(</span><span class="n">cc</span> <span class="p">%</span> <span class="m">100L</span><span class="p">).</span><span class="nf">toInt</span><span class="p">()]</span>
            <span class="n">cc</span> <span class="p">/=</span> <span class="m">100L</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">c</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">MakingChange</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="s">"_coins"</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_coins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_coins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coins</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">10</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_coins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coins</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">25</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">smallestChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cost</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">cost</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coins</span><span class="p">[</span><span class="n">cost</span> <span class="o">%</span> <span class="mi">100</span><span class="p">]</span>
            <span class="n">cost</span> <span class="o">//=</span> <span class="mi">100</span>
        <span class="k">return</span> <span class="n">c</span></code></pre></figure>
</li>
</ul>

<h3 id="MakingChange-complexity">Complexity</h3>

<hr />

<h2 id="UnwindData"><a href="https://community.topcoder.com/stat?c=problem_statement&amp;pm=6599">UnwindData</a></h2>

<h3 id="UnwindData-code">Code</h3>

<ul id="UnwindData-tab" class="uk-tab" data-uk-switcher="{connect:'UnwindData-code-snippet'}">
  <li class="uk-active"><a href="#">C++</a></li>
  <li><a href="#">Kotlin</a></li>
  <li><a href="#">Python</a></li>
</ul>

<ul id="UnwindData-code-snippet'}" class="uk-switcher uk-margin">
    <li>
<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">struct</span> <span class="n">UnwindData</span> <span class="k">final</span>
<span class="p">{</span>
    <span class="kr">inline</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">unwind</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">data</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">isdigit</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">e</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="n">s</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
                <span class="n">s</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
                <span class="k">auto</span> <span class="n">sec</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">e</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
                <span class="k">auto</span> <span class="n">ss</span> <span class="o">=</span> <span class="n">sec</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
                <span class="n">sec</span><span class="p">.</span><span class="n">reserve</span><span class="p">(</span><span class="n">ss</span> <span class="o">*</span> <span class="n">r</span><span class="p">);</span>
                <span class="k">auto</span> <span class="n">sp</span> <span class="o">=</span> <span class="n">sec</span><span class="p">.</span><span class="n">c_str</span><span class="p">();</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
                    <span class="n">sec</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="n">ss</span><span class="p">);</span>
                <span class="o">--</span><span class="n">i</span><span class="p">;</span>
                <span class="n">data</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">e</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">sec</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="sc">']'</span><span class="p">)</span>
                <span class="n">s</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="n">i</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">data</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-kotlin" data-lang="kotlin"><span class="kd">class</span> <span class="nc">UnwindData</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">unwind</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">String</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">s</span> <span class="p">=</span> <span class="nc">IntArray</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">length</span> <span class="p">/</span> <span class="m">3</span><span class="p">)</span>
        <span class="kd">var</span> <span class="py">sn</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span>
        <span class="kd">val</span> <span class="py">sb</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="kd">var</span> <span class="py">i</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="m">1</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">when</span> <span class="p">(</span><span class="kd">val</span> <span class="py">c</span> <span class="p">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">in</span> <span class="sc">'0'</span><span class="o">..</span><span class="sc">'9'</span> <span class="p">-&gt;</span> <span class="p">{</span>
                    <span class="kd">val</span> <span class="py">e</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="n">s</span><span class="p">[</span><span class="n">sn--</span><span class="p">]</span>
                    <span class="kd">val</span> <span class="py">sec</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="nf">substring</span><span class="p">(</span><span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">e</span><span class="p">).</span><span class="nf">repeat</span><span class="p">(</span><span class="n">c</span> <span class="p">-</span> <span class="sc">'0'</span><span class="p">)</span>
                    <span class="p">--</span><span class="n">i</span>
                    <span class="n">sb</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">e</span> <span class="p">+</span> <span class="m">1</span><span class="p">,</span> <span class="n">sec</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="sc">']'</span> <span class="p">-&gt;</span> <span class="n">s</span><span class="p">[++</span><span class="n">sn</span><span class="p">]</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="n">i</span>
            <span class="p">}</span>
            <span class="p">--</span><span class="n">i</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>
</li>
    <li>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">UnwindData</span><span class="p">:</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">unwind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="p">:</span><span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="s">']'</span><span class="p">:</span>
                <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">c</span><span class="o">.</span><span class="n">isnumeric</span><span class="p">():</span>
                <span class="n">e</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span><span class="n">e</span><span class="p">]</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="n">e</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>
                <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">data</span></code></pre></figure>
</li>
</ul>

<h3 id="UnwindData-complexity">Complexity</h3>



      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/UoA-SP-2020-Sem-1-Group-7/Site">Site</a> is maintained by <a href="https://github.com/UoA-SP-2020-Sem-1-Group-7">UoA-SP-2020-Sem-1-Group-7</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </section>

    
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-164510098-1', 'auto');
        ga('send', 'pageview');
      </script>
    
  </body>
</html>
